var android=function(){"use strict";var t;!function(t){t[t.NONE=0]="NONE",t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(t||(t={}));var e=Object.freeze({get CONTAINER_NODE(){return t}});const n={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},o={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},i={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,TEXTAREA:t.EDIT},a={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},r={HORIZONTAL:"horizontal",VERTICAL:"vertical"},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},d=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var c=Object.freeze({EXT_ANDROID:n,CONTAINER_ANDROID:o,ELEMENT_ANDROID:i,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:a,AXIS_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:d});const h={builtInExtensions:["androme.external","android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","androme.substitute","androme.sprite","androme.css-grid","androme.flexbox","androme.table","androme.list","androme.grid","androme.relative","androme.verticalalign","androme.whitespace","androme.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};var u='<?xml version="1.0" encoding="utf-8"?>\n{:0}',p=androme.lib.base.SvgBuild,m=androme.lib.color,g=androme.lib.constant,f=androme.lib.dom,b=androme.lib.util,y=androme.lib.svg,E=androme.lib.xml;function T(t){return b.isPercent(t)?parseInt(t)/100:.5}class w extends androme.lib.base.Resource{static createBackgroundGradient(t,e,n){const o=[];for(const i of e){const e={type:i.type,colorStops:[]};let a;switch(!t.svgElement&&0===parseFloat(i.colorStops[0].offset)&&["100%","360"].includes(i.colorStops[i.colorStops.length-1].offset)&&(2===i.colorStops.length||3===i.colorStops.length&&["50%","180"].includes(i.colorStops[1].offset))?(e.startColor=w.addColor(i.colorStops[0].color),e.endColor=w.addColor(i.colorStops[i.colorStops.length-1].color),3===i.colorStops.length&&(e.centerColor=w.addColor(i.colorStops[1].color)),a=!1):a=!0,i.type){case"radial":if(t.svgElement){if(n){const t=i,o=[];let a,r,s,l;switch(n.element.tagName){case"path":if(p.toPathCommandList(n.d).forEach(t=>o.push(...t.points)),!o.length)break;case"polygon":n.element instanceof SVGPolygonElement&&o.push(...p.toPointList(n.element.points)),a=b.minArray(o.map(t=>t.x)),r=b.minArray(o.map(t=>t.y)),s=b.maxArray(o.map(t=>t.x))-a,l=b.maxArray(o.map(t=>t.y))-r;break;case"rect":{const t=n.element;a=t.x.baseVal.value,r=t.y.baseVal.value,s=t.width.baseVal.value,l=t.height.baseVal.value;break}case"circle":{const t=n.element;a=t.cx.baseVal.value-t.r.baseVal.value,r=t.cy.baseVal.value-t.r.baseVal.value,l=s=2*t.r.baseVal.value;break}case"ellipse":{const t=n.element;a=t.cx.baseVal.value-t.rx.baseVal.value,r=t.cy.baseVal.value-t.ry.baseVal.value,s=2*t.rx.baseVal.value,l=2*t.ry.baseVal.value;break}}if(void 0!==a&&void 0!==r&&void 0!==s&&void 0!==l){const n=T(t.cxAsString),o=T(t.cyAsString);e.centerX=""+(a+s*n),e.centerY=""+(r+l*o),e.gradientRadius=""+(s+l)/2*(b.isPercent(t.rAsString)?parseInt(t.rAsString)/100:1)}}}else{const n=f.getBackgroundPosition(i.position[0],t.bounds,t.fontSize,!0,!a);a?(e.gradientRadius=""+t.bounds.width,e.centerX=""+n.left,e.centerY=""+n.top):(e.gradientRadius=b.formatPX(t.bounds.width),e.centerX=b.convertPercent(n.left),e.centerY=b.convertPercent(n.top))}break;case"linear":if(t.svgElement){const t=i;e.startX=""+t.x1,e.startY=""+t.y1,e.endX=""+t.x2,e.endY=""+t.y2}else{const n=i;if(void 0!==n.angle)if(a){const o=Math.round(t.bounds.width/2),i=Math.round(t.bounds.height/2);e.startX=""+Math.round(y.getRadiusX(n.angle+180,o)+o),e.startY=""+Math.round(y.getRadiusY(n.angle+180,i)+i),e.endX=""+Math.round(y.getRadiusX(n.angle,o)+o),e.endY=""+Math.round(y.getRadiusY(n.angle,i)+i)}else e.angle=""+45*Math.floor(n.angle/45)}break;case"conic":if(!t.svgElement){e.type="sweep";const n=f.getBackgroundPosition(i.position[0],t.bounds,t.fontSize,!0,!a);a?(e.centerX=""+n.left,e.centerY=""+n.top):(e.centerX=b.convertPercent(n.left),e.centerY=b.convertPercent(n.top));break}default:return o}if(a)for(let n=0;n<i.colorStops.length;n++){const o=i.colorStops[n],a=`@color/${w.addColor(o.color)}`;let r=parseInt(o.offset);0===n?t.svgElement||0===r||e.colorStops.push({color:a,offset:"0",opacity:o.opacity}):0===r&&(r=n<i.colorStops.length-1?Math.round((parseInt(i.colorStops[n-1].offset)+parseInt(i.colorStops[n+1].offset))/2):100),e.colorStops.push({color:a,offset:(r/100).toFixed(2),opacity:o.opacity})}o.push(e)}return o}static formatOptions(t,e=!1){for(const n in t)if(t.hasOwnProperty(n)){const o=t[n];if("object"==typeof o)for(const t in o){let n=""+o[t];switch(t){case"text":if(!n.startsWith("@string/")&&""!==(n=this.addString(n,"",e))){o[t]=`@string/${n}`;continue}break;case"src":case"srcCompat":if(g.REGEX_PATTERN.URI.test(n)&&""!==(n=this.addImage({mdpi:n}))){o[t]=`@drawable/${n}`;continue}}const i=m.parseColor(n);if(i){const e=this.addColor(i);""!==e&&(o[t]=`@color/${e}`)}}}return t}static getOptionArray(t){const e=[];let n=[],o=-1;for(;++o<t.children.length;){const i=t.children[o].text.trim();if(""!==i)if(n&&0===e.length&&b.isNumber(i))n.push(i);else{if(n&&n.length){o=-1,n=null;continue}""!==i&&e.push(E.replaceEntity(i))}}return[e.length?e:null,n&&n.length?n:null]}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const o=b.isNumber(t);if(!o||n){for(const[e,n]of w.STORED.strings.entries())if(n===t)return e;e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),o||/^\d/.test(e)||d.includes(e)?e=`__${e}`:""===e&&(e=`__symbol${Math.ceil(1e5*Math.random())}`),w.STORED.strings.has(e)&&(e=w.generateId("string",e,1)),w.STORED.strings.set(e,t)}return e}return""}static addImageSrcSet(t,e=""){const n={},o=t.srcset.trim();if(""!==o){const e=t.src.substring(0,t.src.lastIndexOf("/")+1);o.split(",").forEach(t=>{const o=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(o){b.hasValue(o[2])||(o[2]="1x");const t=e+b.lastIndexOf(o[1]);switch(o[2]){case"0.75x":n.ldpi=t;break;case"1x":n.mdpi=t;break;case"1.5x":n.hdpi=t;break;case"2x":n.xhdpi=t;break;case"3x":n.xxhdpi=t;break;case"4x":n.xxxhdpi=t}}})}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}static addImage(t,e=""){let n="";if(t&&t.mdpi){n=b.lastIndexOf(t.mdpi);const o=b.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),o){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=w.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}static addImageUrl(t,e=""){const n=f.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}static addColor(t){if("string"==typeof t&&(t=m.parseColor(t)),t&&"#00000000"!==t.valueAsRGBA){const e=function(t){return t?t.opaque?t.valueAsARGB:t.valueAsRGB:""}(t);let n=w.STORED.colors.get(e)||"";if(""===n){const o=m.findColorShade(t.valueAsRGB);o&&(o.name=b.convertUnderscore(o.name),n=t.opaque||o.value!==t.valueAsRGB?w.generateId("color",o.name,1):o.name,w.STORED.colors.set(e,n))}return n}return""}addStyleTheme(t,e,o){if(o.items&&b.isArray(e.items)){const t=w.formatOptions(o.items,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue"));for(const n in t)e.items.push({name:n,value:t[n]})}const i=E.createTemplate(E.parseTemplate(t),e);this.fileHandler&&this.fileHandler.addAsset(o.output.path,o.output.file,i)}get userSettings(){return this.application.userSettings}}var x=androme.lib.util;function v(t,e,n,o=0){return(!n||n>=o)&&(t.attr=e,!0)}const R={28:{android:{},app:{},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},assign:{}},25:{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>v(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>v(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>v(t,"layout_alignRight"),layout_alignParentEnd:t=>v(t,"layout_alignParentRight"),layout_alignParentStart:t=>v(t,"layout_alignParentLeft"),layout_alignStart:t=>v(t,"layout_alignLeft"),layout_marginEnd:t=>v(t,"layout_marginRight"),layout_marginStart:t=>v(t,"layout_marginLeft"),layout_toEndOf:t=>v(t,"layout_toRightOf"),layout_toStartOf:t=>v(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>v(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>v(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>v(t,"paddingRight"),paddingStart:t=>v(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},assign:{}},14:{android:{},app:{},assign:{}},0:{android:{},app:{},assign:{Button:{android:{textAllCaps:"false"}}}}},S={android:{amPmBackgroundColor:(t,e)=>v(t,"headerBackground",e,23),amPmTextColor:(t,e)=>v(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>v(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>v(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>v(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>v(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>v(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>v(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>v(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var A=Object.freeze({API_ANDROID:R,DEPRECATED_ANDROID:S,getValue:function(t,e,n,o){for(const i of[R[t],R[0]]){const t=x.optionalAsString(i,`assign.${e}.${n}.${o}`);if(x.isString(t))return t}return""}});const I=androme.lib.util,_=androme.lib.xml;function C(t){return t?t.replace(/@\+?id\//,""):""}function N(t={}){return Object.assign({android:{},app:{}},t&&"object"==typeof t?t:{})}function P(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function L(t,e=160,n=!1){if(t){let o=parseFloat(t);if(!isNaN(o))return(t=(o/=e/160)>=1||0===o?""+Math.floor(o):o.toFixed(2))+(n?"sp":"dp")}return"0dp"}function O(t,e=160,n="dp",o=!1){return"dp"===n||o?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,(t,...n)=>n[0]+(n[1]||"")+L(n[2],e,o)+n[3]):t}function k(t,e=4,n=!1){return _.replaceTab(t,e,n)}function D(t,e,n=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function B(t,e=!0,n=26){return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function M(...t){return I.flatMap(t,t=>l[t]?`xmlns:${t}="${l[t]}"`:"").join(" ")}var X=Object.freeze({stripId:C,createAttribute:N,validateString:P,convertUnit:L,replaceUnit:O,replaceTab:k,calculateBias:D,replaceRTL:B,getXmlNs:M}),G=androme.lib.base.NodeList,H=androme.lib.base.Resource,z=androme.lib.dom,F=androme.lib.enumeration,V=androme.lib.util;function W(t,e){const n=e-(t.hasHeight?t.height:t.bounds.height);n>0&&(t.modifyBox(2,Math.floor(n/2)-(t.inlineVertical?V.convertInt(t.verticalAlign):0)),t.modifyBox(8,Math.ceil(n/2)))}var $=e=>(class n extends e{constructor(t=0,e,n){super(t,e),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=new Set(["android","app"]),this._controlName="",this._fontSize=0,this._boxAdjustment=z.newBoxModel(),this._boxReset=z.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,supportRTL:!1},this.__android={},this.__app={},n&&n(this)}static documentBody(){if(void 0===n._documentBody){const t=new n(0,document.body);t.hide(),t.setBounds(),n._documentBody=t}return n._documentBody}static getControlName(e){return o[t[e]]}attr(t,e,n="",o=!0){const i={};return this.supported(t,e,i)?(Object.keys(i).length&&(V.isString(i.obj)&&(t=i.obj),V.isString(i.attr)&&(e=i.attr),V.isString(i.value)&&(n=i.value),"boolean"==typeof i.overwrite&&(o=i.overwrite)),super.attr(t,e,n,o)):""}android(t,e="",n=!0){return this.attr("android",t,e,n),this.__android[t]||""}app(t,e="",n=!0){return this.attr("app",t,e,n),this.__app[t]||""}apply(t){const e=Object.assign({},t);super.apply(e);for(const t in e)this.formatted(`${t}="${e[t]}"`)}formatted(t,e=!0){const n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const o=this.renderParent;if(o)if(o.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);const o=s.constraint[t];if(o){if(this.app(this.localizeString(o),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==V.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(o.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(s["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}anchorParent(t,e=!1,n=!1){const o=this.renderParent;if(o){const i=t===r.HORIZONTAL;if(o.layoutConstraint){if(e||!this.constraint[t])return this.anchor(i?"left":"top","parent"),this.anchor(i?"right":"bottom","parent"),this.constraint[t]=!0,n&&this.app(`layout_constraint${V.capitalize(t)}_bias`,this[`${t}Bias`]),!0}else if(o.layoutRelative)return this.anchor(i?"left":"top","true"),this.anchor(i?"right":"bottom","true"),!0}return!1}anchorDelete(...t){const e=this.renderParent;if(e)if(e.layoutConstraint)this.delete("app",...t.map(t=>this.localizeString(s.constraint[t])));else if(e.layoutRelative)for(const e of t)this.alignSibling(e)?this.delete("android",s.relative[e],this.localizeString(s.relative[e])):s.relativeParent[e]&&this.delete("android",this.localizeString(s.relativeParent[e]))}anchorClear(){const t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete(...Object.keys(s.constraint)):t.layoutRelative&&(this.anchorDelete(...Object.keys(s.relativeParent)),this.anchorDelete(...Object.keys(s.relative))))}alignParent(t){const e=this.renderParent;if(e)if(e.layoutConstraint){const e=s.constraint[t];if(e)return"parent"===this.app(this.localizeString(e))||"parent"===this.app(e)}else if(e.layoutRelative){const e=s.relativeParent[t];if(e)return"true"===this.android(this.localizeString(e))||"true"===this.android(e)}return!1}alignSibling(t,e){const n=this.renderParent;if(n)if(e){if(n.layoutConstraint){this.app(this.localizeString(s.constraint[t]),e)}else if(n.layoutRelative){this.android(this.localizeString(s.relative[t]),e)}}else{if(n.layoutConstraint){const e=s.constraint[t],o=this.app(this.localizeString(e))||this.app(e);return""!==o&&"parent"!==o&&o!==n.documentId?o:""}if(n.layoutRelative){const e=s.relative[t];return this.android(this.localizeString(e))||this.android(e)}}return""}horizontalBias(){const t=this.documentParent;if(t!==this){return D(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy)}return.5}verticalBias(){const t=this.documentParent;if(t!==this){return D(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy)}return.5}supported(t,e,n={}){if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){const o=S[t];if(o&&"function"==typeof o[e]){const t=o[e](n,this.localSettings.targetAPI,this);if(!t||Object.keys(n).length)return t}for(let o=this.localSettings.targetAPI;o<=28;o++){const i=R[o];if(i&&i[t]&&void 0!==i[t][e]){const o=i[t][e];if("boolean"==typeof o)return o;if("function"==typeof o)return o(n,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const e=[];for(const n of this._namespaces.values()){const o=this[`__${n}`];if(0===t.length||t.includes(n))for(const t in o)e.push("_"!==n?`${n}:${t}="${o[t]}"`:`${t}="${o[t]}"`)}return e.sort((t,e)=>t>e||e.startsWith("android:id=")?1:-1)}localizeString(t){return this.hasBit("excludeProcedure",F.NODE_PROCEDURE.LOCALIZATION)?t:B(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,o=!1){const i=new n(t||this.id,this.baseElement);if(Object.assign(i.localSettings,this.localSettings),i.tagName=this.tagName,t?i.setControlType(this.controlName,this.containerType):(i.controlId=this.controlId,i.controlName=this.controlName,i.containerType=this.containerType),i.alignmentType=this.alignmentType,i.depth=this.depth,i.visible=this.visible,i.excluded=this.excluded,i.rendered=this.rendered,i.renderDepth=this.renderDepth,i.renderParent=this.renderParent,i.documentParent=this.documentParent,i.documentRoot=this.documentRoot,this.length&&i.retain(this.duplicate()),e){Object.assign(i.unsafe("boxReset"),this._boxReset),Object.assign(i.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces.values()){const e=this[`__${t}`];for(const n in e)i.attr(t,n,"android"===t&&"id"===n?i.documentId:e[n])}}return o&&(i.anchorClear(),i.anchor("left",this.documentId)&&(Object.assign(i.unsafe("boxReset"),{marginLeft:1}),Object.assign(i.unsafe("boxAdjustment"),{marginLeft:0})),i.anchor("top",this.documentId)&&(Object.assign(i.unsafe("boxReset"),{marginTop:1}),Object.assign(i.unsafe("boxAdjustment"),{marginTop:0}))),i.inherit(this,"initial","base","alignment","styleMap"),Object.assign(i.unsafe("cached"),this.unsafe("cached")),i}setControlType(e,n){if(n)this.containerType=n;else if(0===this.containerType)for(const n in o)if(o[n]===e){for(const e in t)if(t[t[e]]===n){this.containerType=t[e];break}break}if(this.controlName=e,""!==this.android("id")&&(this.controlId=C(this.android("id"))),""===this.controlId){const t=this.baseElement;let e="";t&&("parent"===(e=P(t.id||t.name))||d.includes(e))&&(e=`_${e}`),this.controlId=V.convertWord(H.generateId("android",e||V.lastIndexOf(this.controlName,".").toLowerCase(),e?0:1)),this.android("id",this.documentId)}}setLayout(){const e=this.absoluteParent,n=this.renderParent,o=this.renderChildren;let i=!1,a=!1;if(this.documentBody&&(!this.hasWidth&&o.some(t=>t.alignParent("right"))&&(this.android("layout_width","match_parent",!1),i=!0),!this.hasHeight&&o.some(t=>t.alignParent("bottom"))&&(this.android("layout_height","match_parent",!1),a=!0)),!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){const o=this.css("width");if(V.isUnit(o)){const t=n?V.convertInt(n.android("layout_width")):0,a=this.convertPX(o);e===n&&t>0&&V.convertInt(a)>=t?this.android("layout_width","match_parent"):this.android("layout_width",a),i=!0}else V.isPercent(o)&&(n&&n.is(t.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(o)/100).toPrecision(2),!1)):this.android("layout_width","100%"===o?"match_parent":this.convertPercent(o,!0)),i=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){const t=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",t,!1),i=!0}if(e&&n){if(!i){const i=this.blockStatic&&!this.has("maxWidth")&&(this.htmlElement||this.svgElement);if(this.plainText)this.android("layout_width",this.bounds.width>n.box.width&&this.multiLine&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(o.some(t=>Math.ceil(t.bounds.width)>=this.box.width&&!t.autoMargin.horizontal&&(n.inlineWidth||t.inlineStatic&&!t.plainText||V.isUnit(t.cssInitial("width")))))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&!n.inlineWidth||this.groupParent&&o.some(t=>!(t.plainText&&t.multiLine)&&t.linear.width>=this.documentParent.box.width)||i&&(this.documentBody||e.documentBody||e.has("width",32)||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings())))||this.layoutFrame&&(2===G.floated(o).size||o.some(t=>t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned))))this.android("layout_width","match_parent",!1);else{!i&&(this.containerType<t.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!e&&(e.flexElement||e.gridElement)||n.is(t.GRID))&&!i||!(e&&this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||!this.documentRoot&&o.some(t=>t.layoutVertical&&!t.autoMargin.horizontal&&!t.hasWidth&&!t.floating))?this.android("layout_width","wrap_content",!1):this.android("layout_width","match_parent",!1)}}if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){const t=this.css("height");if(V.isUnit(t)){const e=this.convertPX(t,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(e)<Math.floor(this.box.height)?"wrap_content":e),a=!0}else V.isPercent(t)&&("100%"===t?(this.android("layout_height","match_parent"),a=!0):this.documentParent.has("height")&&(this.android("layout_height",V.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),a=!0))}if(this.has("minHeight")&&!this.constraint.minHeight){const t=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",t,!1)}else a||this.android("layout_height","wrap_content",!1)}else this.android("layout_width","wrap_content",!1),this.android("layout_height","wrap_content",!1)}setAlignment(){const e=this.renderParent;if(e){const i=this.localizeString("left"),a=this.localizeString("right");function n(t){if(!t.blockWidth){const e=[],n=t.documentRoot&&t.layoutFrame&&1===t.length&&t.has("maxWidth");if(t.autoMargin.leftRight?n?t.renderChildren[0].mergeGravity("layout_gravity","center_horizontal"):e.push("center_horizontal"):t.autoMargin.left?n?t.renderChildren[0].mergeGravity("layout_gravity",a):e.push(a):t.autoMargin.right&&e.push(i),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity(t.blockWidth||!t.pageFlow?"gravity":"layout_gravity",...e),!0}return!1}function o(t){switch(t){case"left":case"start":return i;case"right":case"end":return a;case"center":return"center_horizontal";default:return""}}let r=this.cssInitial("textAlign",!0)||"";if(this.pageFlow){let o="";if(this.inlineVertical&&(e.layoutHorizontal&&!e.support.container.positionRelative||e.is(t.GRID))){const t="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(t,"top");break;case"middle":this.mergeGravity(t,"center_vertical");break;case"bottom":this.mergeGravity(t,"bottom")}}!this.blockWidth&&(e.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?a:i):n(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?o=a:this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(o=i)),e.layoutFrame&&!n(this)&&""!==(o=this.floating?this.float:o)&&(e.inlineWidth||this.singleChild&&!e.documentRoot)&&e.mergeGravity("layout_gravity",o),""!==o&&(this.blockWidth?""!==r&&o!==a||(r=o):this.mergeGravity("layout_gravity",o))}else n(this);const s=this.cssAscend("textAlign");""!==s&&this.localizeString(s)!==i&&(!e.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",o(s)),this.imageElement||""!==r||(r=s)),this.layoutConstraint||this.mergeGravity("gravity",o(r))}}mergeGravity(t,...e){const n=new Set([...this.android(t).split("|"),...e].filter(t=>""!==t.trim()).map(t=>this.localizeString(t)));let o="";switch(n.size){case 0:break;case 1:o=n.values().next().value;default:let t="",e="",i="";["center","fill"].forEach(t=>{const e=`${t}_horizontal`,o=`${t}_vertical`;(n.has(t)||n.has(e)&&n.has(o))&&(n.delete(e),n.delete(o),n.add(t))});for(const o of n.values())switch(o){case"left":case"start":case"right":case"end":case"center_horizontal":t=o;break;case"top":case"bottom":case"center_vertical":e=o;break;default:i+=(""!==i?"|":"")+o}const a=""!==t&&""!==e?`${t}|${e}`:t||e;o=a+(""!==i?(""!==a?"|":"")+i:"")}return""!==o?this.android(t,o):(this.delete("android",t),"")}applyOptimizations(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssAscend("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}applyCustomizations(){for(const t of[R[0],R[this.localSettings.targetAPI]])if(t&&t.assign)for(const e of[this.tagName,this.controlName]){const n=t.assign[e];if(n)for(const t in n)for(const e in n[t])this.attr(t,e,n[t][e],this.localSettings.customizationsOverwritePrivilege)}}setBoxSpacing(){const e={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach((n,o)=>{["Top","Left","Right","Bottom"].forEach(t=>{const o=n+t;let i;i=1===this._boxReset[o]||"marginRight"===o&&this.bounds.right>=this.documentParent.box.right&&this.inline?0:this[o],e[o]=i+=this._boxAdjustment[o]});const i=0===o?"layout_margin":"padding",a=`${n}Top`,r=`${n}Right`,s=`${n}Bottom`,l=`${n}Left`,d=this.localizeString("Left"),c=this.localizeString("Right"),h=this.renderParent;let u,p,m;!this.supported("android","layout_marginHorizontal")||0===o&&h&&h.is(t.GRID)||(e[a]===e[r]&&e[r]===e[s]&&e[s]===e[l]?u=e[a]:(e[l]===e[r]&&(p=e[l]),e[a]===e[s]&&(m=e[a]))),void 0!==u?0!==u&&this.android(i,V.formatPX(u)):(void 0!==p?0!==p&&this.android(`${i}Horizontal`,V.formatPX(p)):(0!==e[l]&&this.android(i+d,V.formatPX(e[l])),0!==e[r]&&this.android(i+c,V.formatPX(e[r]))),void 0!==m?0!==m&&this.android(`${i}Vertical`,V.formatPX(m)):(0!==e[a]&&this.android(`${i}Top`,V.formatPX(e[a])),0!==e[s]&&this.android(`${i}Bottom`,V.formatPX(e[s]))))})}autoSizeBoxModel(){if(!this.hasBit("excludeProcedure",F.NODE_PROCEDURE.AUTOFIT)){const e=this.renderParent;let n=V.convertInt(this.android("layout_width")),o=V.convertInt(this.android("layout_height"));if(this.is(t.BUTTON)&&0===o)this.has("minHeight")||this.android("layout_height",V.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?V.convertInt(this.css("borderWidth")):0)));else if(this.is(t.LINE))"HR"!==this.element.tagName&&o>0&&this.toInt("height",!0)>0&&this.android("layout_height",V.formatPX(o+this.borderTopWidth+this.borderBottomWidth));else if(e){let t=!1;this.tableElement?t="content-box"===this.css("boxSizing")||z.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",F.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||e.tableElement||(n>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",V.formatPX(n+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(n=V.convertInt(e.android("layout_width")))>0&&e.android("layout_width",V.formatPX(n+this.marginLeft+this.contentBoxWidth)),o>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",V.formatPX(o+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(o=V.convertInt(e.android("layout_height")))>0&&e.android("layout_height",V.formatPX(o+this.marginTop+this.contentBoxHeight))),t=!0),t&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}alignHorizontalLayout(){if(this.layoutHorizontal){if(this.layoutLinear){const t=this.renderChildren;let e;t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline)?this.android("baselineAligned","false"):(e=G.baseline(t.filter(t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint),!0)[0])&&this.android("baselineAlignedChildIndex",""+t.indexOf(e));const n=Math.max(this.lineHeight,V.maxArray(this.renderChildren.map(t=>t.lineHeight)));n>0&&W(this,n)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const e=Math.abs(t.marginLeft);e===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):e<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}}alignVerticalLayout(){const t=this.renderParent;if(t&&!t.layoutHorizontal){const t=this.lineHeight;if(t){const e=()=>{const e=this.android("minHeight"),n=t+this.contentBoxHeight;V.convertInt(e)<n&&(this.android("minHeight",V.formatPX(n)),this.mergeGravity("gravity","center_vertical"))};0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?W(this,t):e()):this.layoutVertical&&this.renderEach(e=>!e.layoutHorizontal&&W(e,t))}}}get documentId(){return this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=i[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get support(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get singleChild(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}get fontSize(){return 0===this._fontSize&&(this._fontSize=parseInt(V.convertPX(this.css("fontSize"),0))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class U extends($(androme.lib.base.Node)){}class Y extends($(androme.lib.base.NodeGroup)){constructor(t,e,n,o){super(t,void 0,o),this.tagName=`${e.tagName}_GROUP`,this.documentParent=e.documentParent,this.retain(n)}}var j=androme.lib.base.NodeList,K=androme.lib.color,Z=androme.lib.dom,q=androme.lib.enumeration,J=androme.lib.util,Q=androme.lib.xml;function tt(t){if(t.some(t=>t.floating)){const e=t.slice(0).sort((t,e)=>{if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0});if(e.map(t=>t.id).join("-")!==t.map(t=>t.id).join("-"))return t.length=0,t.push(...e),!0}return!1}function et(t,e){for(const n of e)n!==t&&(n.imageElement&&n.actualHeight>t.actualHeight?n.renderParent&&J.withinFraction(n.linear.top,n.renderParent.box.top)&&n.anchor("top","true"):(n.baseElement&&0===n.length||n.layoutHorizontal&&n.renderChildren.every(t=>t.baseline))&&n.anchor("baseline",t.documentId))}function nt(e){return e.filter(t=>"text-bottom"===t.verticalAlign).sort((e,n)=>e.bounds.height===n.bounds.height?e.is(t.SELECT)?1:-1:e.bounds.height>n.bounds.height?-1:1)[0]}function ot(t,e=!1){t.textElement&&"center"!==t.cssAscend("textAlign",!0)&&!t.hasWidth&&!t.multiLine&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function it(t,e,n,o=!1){return t>0?(o||(t-=e[`padding${n}`]),e.documentBody&&(t-=e[`margin${n}`]),Math.max(t,0)):t}function at(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1}function rt(t,e){const n=t.cssInitial(`min${e}`),o=t.cssInitial(`max${e}`);J.isUnit(n)&&(t.app(`layout_constraint${e}_min`,n),t.constraint.minWidth=!0),J.isUnit(o)&&(t.app(`layout_constraint${e}_max`,o),t.constraint.minHeight=!0)}function st(t,e,n,o){if(J.isPercent(n))if(o)t.android(`layout_${e.toLowerCase()}`,t.convertPercent(n,"Width"===e));else if("100%"!==n){t.app(`layout_constraint${e}_percent`,(parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0)).toFixed(t.localSettings.constraintPercentAccuracy||4)),t.android(`layout_${e.toLowerCase()}`,"0px")}}function lt(t,e=!1){const n=t.has("width")?t.css("width"):"";st(t,"Width",n,e)}function dt(t,e=!1){if(t.documentParent.hasHeight){const n=t.has("height")?t.css("height"):"";st(t,"Height",n,e)}}class ct extends androme.lib.base.Controller{constructor(){super(...arguments),this.localSettings={baseTemplate:u,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}}}static evaluateAnchors(t){const e=t.filter(t=>t.constraint.horizontal),n=t.filter(t=>t.constraint.vertical);let o=-1;for(;++o<t.length;){const i=t[o];if(!i.constraint.horizontal)for(const t in i.constraint.current){const n=i.constraint.current[t];if(n.horizontal&&e.find(t=>t.documentId===n.documentId)){i.constraint.horizontal=!0,e.push(i),o=-1;break}}if(!i.constraint.vertical)for(const t in i.constraint.current){const e=i.constraint.current[t];if(!e.horizontal&&n.find(t=>t.documentId===e.documentId)){i.constraint.vertical=!0,n.push(i),o=-1;break}}}}static setConstraintDimension(t){lt(t),dt(t),rt(t,"Width"),rt(t,"Height")}static setFlexDimension(t,e){const n=e?"width":"height",o=e?"height":"width";let i=t.flexbox.basis;if("auto"!==i&&(J.isPercent(i)?"0%"!==i&&(t.app(`layout_constraint${e?"Width":"Height"}_percent`,(parseInt(i)/100).toFixed(2)),i=""):J.isUnit(i)&&(t.android(`layout_${n}`,t.convertPX(i)),i="")),""!==i){const o=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android(`layout_${n}`,"0px"),t.app(`layout_constraint${e?"Horizontal":"Vertical"}_weight`,""+t.flexbox.grow)):J.isUnit(o)?t.android(`layout_${n}`,o):t.flexbox.shrink>1?t.android(`layout_${n}`,"wrap_content"):e?lt(t):dt(t),t.flexbox.shrink<1&&t.app(`layout_constrained${e?"Width":"Height"}`,"true")}const a=t.has(o)?t.css(o):"";J.isUnit(a)?t.android(`layout_${o}`,a):e?dt(t,!0):lt(t,!0),rt(t,"Width"),rt(t,"Height")}finalize(t){const e=this.userSettings;if(e.showAttributes){function n(t){let e="";for(const n in l)RegExp(`\\s+${n}:`).test(t)&&(e+=`\n\t${M(n)}`);return e}function o(t){if("rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl"),t.baseElement){const e=Z.getDataSet(t.baseElement,"android");for(const n in e)if(/^attr[A-Z]/.test(n)){const o=J.capitalize(n.substring(4),!1);e[n].split(";").forEach(e=>{const[n,i]=e.split("::");n&&i&&t.attr(o,n,i)})}}const e=J.repeat(t.renderDepth+1);return t.combine().map(t=>`\n${e+t}`).join("")}const e=t.cache.visible.map(t=>({pattern:Q.formatPlaceholder(t.id,"@"),attributes:o(t)}));for(const o of[...t.views,...t.includes])e.forEach(t=>o.content=o.content.replace(t.pattern,t.attributes)),o.content=o.content.replace("{#0}",n(o.content))}for(const n of[...t.views,...t.includes])n.content=O(n.content,e.resolutionDPI,e.convertPixels),n.content=k(n.content,e.insertSpaces),n.content=this.removePlaceholders(n.content).replace(/\n\n/g,"\n")}processUnknownParent(e){const[n,o]=[e.node,e.parent];let i,a=!1;if(n.has("columnCount"))e.columnCount=n.toInt("columnCount"),e.setType(t.CONSTRAINT,256,4);else if(e.some(t=>!t.pageFlow))e.setType(t.CONSTRAINT,32,2);else if(1===e.length){const r=n.item(0);n.documentRoot&&function(t,e){if(e.baseElement&&t.dataset.target){const n=document.getElementById(t.dataset.target);return!!n&&n!==e.baseElement}return!1}(r,n)?(n.hide(),a=!0):!(this.userSettings.collapseUnattributedElements&&n.positionStatic&&n.baseElement)||J.hasValue(n.baseElement.id)||J.hasValue(n.dataset.use)||J.hasValue(n.dataset.target)||n.hasWidth||n.hasHeight||n.has("maxWidth")||n.has("maxHeight")||n.visibleStyle.background||n.has("textAlign")||n.has("verticalAlign")||!(n.toInt("lineHeight")>0)||n.rightAligned||n.autoMargin.horizontal||n.groupParent||n.companion||this.hasAppendProcessing(n.id)?e.setType(t.FRAME,2048):(r.documentRoot=n.documentRoot,r.siblingIndex=n.siblingIndex,r.parent=o,n.renderAs=r,n.resetBox(510,r,!0),n.hide(),i=r)}else e.init(),n.baseElement&&Z.hasLineBreak(n.baseElement,!0)?e.setType(t.LINEAR,16,2):this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):e.linearX?(this.checkFrameHorizontal(e)?e.renderType=72:this.checkConstraintHorizontal(e)?e.setType(t.CONSTRAINT):this.checkRelativeHorizontal(e)?e.setType(t.RELATIVE):(e.setType(t.LINEAR),e.floated.size&&(e.renderPosition=tt(e.children))),e.add(8)):e.linearY?e.setType(t.LINEAR,16,n.documentRoot?2:0):e.every(t=>t.inlineFlow)?this.checkFrameHorizontal(e)?e.renderType=72:e.setType(t.RELATIVE,8,2):e.some(t=>t.alignedVertically(t.previousSiblings(),e.children,e.cleared))?e.setType(t.LINEAR,16,2):e.setType(t.CONSTRAINT,2);return{layout:e,next:a,renderAs:i}}processUnknownChild(e){const n=e.node,o=n.visibleStyle;let i=!1;return n.inlineText||o.borderWidth&&n.textContent.length?e.setType(t.TEXT):o.backgroundImage&&!o.backgroundRepeat&&(!n.inlineText||n.toInt("textIndent")+n.bounds.width<0)?(e.setType(t.IMAGE,2048),n.exclude({resource:q.NODE_RESOURCE.FONT_STYLE|q.NODE_RESOURCE.VALUE_STRING})):n.block&&(o.borderWidth||o.backgroundImage||o.paddingVertical)?e.setType(t.LINE):n.documentRoot||(!this.userSettings.collapseUnattributedElements||0!==n.bounds.height||o.background||J.hasValue(n.element.id)||J.hasValue(n.dataset.use)?e.setType(o.background?t.TEXT:t.FRAME):(n.hide(),i=!0)),{layout:e,next:i}}processTraverseHorizontal(t,e){const n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}processTraverseVertical(e,n){const o=e.parent;return!e.floated.size||!e.cleared.size||1===e.floated.size&&e.every((t,n)=>0===n||n===e.length-1||e.cleared.has(t))?void 0===n||e.length!==n.length?o.layoutVertical||(e.node=this.createNodeGroup(e.node,e.children,o),e.setType(t.LINEAR,16)):o.alignmentType|=16:(e.node=this.createNodeGroup(e.node,e.children,o),e.renderType|=80),{layout:e}}processLayoutHorizontal(e,n=!1){let o=0;return this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):this.checkConstraintHorizontal(e)?o=t.CONSTRAINT:this.checkRelativeHorizontal(e)?o=t.RELATIVE:(!n||e.linearX&&!e.floated.has("right"))&&(o=t.LINEAR,e.floated.size&&(e.renderPosition=tt(e.children))),0!==o&&e.setType(o,8),{layout:e}}sortRenderPosition(t,e){if(t.layoutConstraint&&e.some(t=>!t.pageFlow)){const n=[],o=[],i=[],a=[];for(const n of e)n.pageFlow||n.actualParent!==t?i.push(n):n.zIndex>=0?a.push(n):o.push(n);return n.push(...J.sortAsc(o,"zIndex","id")),n.push(...i),n.push(...J.sortAsc(a,"zIndex","id")),n}return[]}checkFrameHorizontal(t){const[e,n]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&t.autoMargin.horizontal))return!0;if(n.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")){const t=J.minArray(n.map(t=>t.siblingIndex));return e.map(t=>t.siblingIndex).some(e=>e<t)&&n.some(t=>t.blockStatic)}}return!1}checkConstraintFloat(t){return 1===t.floated.size&&t.every(t=>t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0))}checkConstraintHorizontal(t){return!t.parent.hasHeight&&1!==new Set(t.map(t=>t.bounds.height)).size&&t.some(t=>"bottom"===t.verticalAlign)&&t.every(t=>t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign))}checkRelativeHorizontal(t){return 2!==t.floated.size&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache.visible)if(!t.hasBit("excludeProcedure",q.NODE_PROCEDURE.CONSTRAINT)){const e=t.renderFilter(t=>!t.positioned);if(e.length)if(t.layoutConstraint){const[n,o]=J.partition(e,t=>t.pageFlow),i=o.length?J.maxArray(t.renderChildren.map(t=>t.linear.bottom)):t.box.bottom;for(const e of o)if(!e.positionAuto&&(e.documentParent===e.absoluteParent||"fixed"===e.position)){if(e.hasWidth&&e.autoMargin.horizontal?e.has("left")&&e.autoMargin.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.has("right")&&e.autoMargin.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(r.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.has("left")&&(e.anchor("left","parent"),e.modifyBox(16,it(e.left,t,"Left"))),!e.has("right")||e.hasWidth&&e.has("left")||(e.anchor("right","parent"),e.modifyBox(4,it(e.right,t,"Right")))),e.hasHeight&&e.autoMargin.vertical)e.has("top")&&e.autoMargin.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.has("bottom")&&e.autoMargin.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(r.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom));else{if(e.has("top")){const n=t.valueBox(32);e.anchor("top","parent"),e.modifyBox(2,it(e.top,t,"Top",1===n[0]))}if(e.has("bottom")&&(!e.hasHeight||!e.has("top"))){const n=t.valueBox(128);e.anchor("bottom","parent"),e.modifyBox(8,it(e.bottom,t,"Bottom",1===n[0]))}}e.positioned=!0}if(t.layoutHorizontal)this.processConstraintHorizontal(t,n);else if(t.hasAlign(256))this.processConstraintColumn(t,n);else if(n.length>1)this.processConstraintChain(t,n,i);else for(const e of n)e.autoMargin.leftRight||e.inlineStatic&&"center"===e.cssAscend("textAlign",!0)?e.anchorParent(r.HORIZONTAL):e.rightAligned?e.anchor("right","parent"):(J.withinFraction(e.linear.left,t.box.left)||e.linear.left<t.box.left)&&e.anchor("left","parent"),(J.withinFraction(e.linear.top,t.box.top)||e.linear.top<t.box.top)&&e.anchor("top","parent"),this.withinParentBottom(e.linear.bottom,i)&&e.actualParent&&!e.actualParent.documentBody&&e.anchor("bottom","parent"),ct.setConstraintDimension(e);ct.evaluateAnchors(n),e.forEach(e=>{e.anchored||(this.addGuideline(e,t),e.pageFlow&&ct.evaluateAnchors(n)),!e.hasWidth&&e.alignParent("left")&&e.alignParent("right")&&e.android("layout_width","match_parent"),!e.hasHeight&&e.alignParent("top")&&e.alignParent("bottom")&&e.android("layout_height","match_parent")})}else t.layoutRelative&&this.processRelativeHorizontal(t,e)}}renderNodeGroup(e){const[n,o,i,a]=[e.node,e.parent,e.containerType,e.alignmentType],s=N();let l=!1;switch(i){case t.LINEAR:J.hasBit(a,16)?(s.android.orientation=r.VERTICAL,l=!0):J.hasBit(a,8)&&(s.android.orientation=r.HORIZONTAL,l=!0);break;case t.GRID:s.android.rowCount=e.rowCount?""+e.rowCount:"",s.android.columnCount=e.columnCount?""+e.columnCount:"2",l=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:l=!0}if(l){const t=J.hasValue(n.dataset.target)&&!J.hasValue(n.dataset.use),e=U.getControlName(i);return n.alignmentType|=a,n.setControlType(e,i),n.render(t?n:o),n.apply(s),this.getEnclosingTag(e,n.id,t?-1:n.renderDepth,Q.formatPlaceholder(n.id))}return""}renderNode(e){const[n,i]=[e.node,e.parent];n.alignmentType|=e.alignmentType;const a=U.getControlName(e.containerType);n.setControlType(a,e.containerType);const s=J.hasValue(n.dataset.target)&&!J.hasValue(n.dataset.use);switch(n.element.tagName){case"IMG":if(!n.hasBit("excludeResource",q.NODE_RESOURCE.IMAGE_SOURCE)){const e=n.element,r=n.has("width",32),l=n.has("height",32);let d=n.toInt("width"),c=n.toInt("height"),h="";if(r||l)h=r&&l?"fitXY":"fitCenter";else{if(0===d){const t=/width="(\d+)"/.exec(e.outerHTML);t&&(d=parseInt(t[1]),n.css("width",J.formatPX(t[1]),!0))}if(0===c){const t=/height="(\d+)"/.exec(e.outerHTML);t&&(c=parseInt(t[1]),n.css("height",J.formatPX(t[1]),!0))}switch(n.css("objectFit")){case"contain":h="centerInside";break;case"cover":h="centerCrop";break;case"scale-down":h="fitCenter";break;case"none":h="matrix";break;default:h="fitXY"}}n.android("scaleType",h),(d>0&&0===c||0===d&&c>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");const u=w.addImageSrcSet(e);if(""!==u&&n.android("src",`@drawable/${u}`),!n.pageFlow&&n.left<0||n.top<0){const e=n.absoluteParent;if(e&&"hidden"===e.css("overflow")){const e=this.application.createNode(Z.createElement(n.actualParent?n.actualParent.baseElement:null));return e.setControlType(o.FRAME,t.FRAME),e.inherit(n,"base"),e.exclude({procedure:q.NODE_PROCEDURE.ALL,resource:q.NODE_RESOURCE.ALL}),e.cssApply({position:n.position,zIndex:""+n.zIndex}),i.appendTry(n,e),this.cache.append(e),e.android("layout_width",d>0?d<i.box.width?J.formatPX(d):"match_parent":"wrap_content"),e.android("layout_height",c>0?c<i.box.height?J.formatPX(c):"match_parent":"wrap_content"),e.render(s?e:i),e.companion=n,e.saveAsInitial(),n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(e),this.getEnclosingTag(o.FRAME,e.id,s?-1:e.renderDepth,this.getEnclosingTag(a,n.id,s?0:n.renderDepth))}}}break;case"TEXTAREA":{const t=n.element;n.android("minLines","2"),t.rows>2&&n.android("lines",""+t.rows),t.maxLength>0&&n.android("maxLength",""+t.maxLength),!n.hasWidth&&t.cols>0&&n.css("width",J.formatPX(8*t.cols),!0),n.android("hint",t.placeholder),n.android("scrollbars",r.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break}case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":{const t=n.element;switch(t.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":J.hasValue(t.min)&&n.android("min",t.min),J.hasValue(t.max)&&n.android("max",t.max),J.hasValue(t.value)&&n.android("progress",t.value);break;case"image":if(!n.hasBit("excludeResource",q.NODE_RESOURCE.IMAGE_SOURCE)){const e=w.addImage({mdpi:t.src});""!==e&&n.android("src",`@drawable/${e}`,!1)}}switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&t.size>0&&n.css("width",J.formatPX(8*t.size),!0)}break}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case o.TEXT:const t=[];n.overflowX&&t.push(r.HORIZONTAL),n.overflowY&&t.push(r.VERTICAL),t.length&&n.android("scrollbars",t.join("|")),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");const e=n.css("textShadow");"none"!==e&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some((t,o)=>{const i=e.match(t);if(i){const t=K.parseColor(i[0===o?1:4]);if(t){const e=w.addColor(t);""!==e&&n.android("shadowColor",`@color/${e}`)}return n.android("shadowDx",""+J.convertInt(i[0===o?2:1])),n.android("shadowDy",""+J.convertInt(i[0===o?3:2])),n.android("shadowRadius",""+J.convertInt(i[0===o?4:3])),!0}return!1});break;case o.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case o.LINE:n.hasHeight||n.android("layout_height",J.formatPX(n.contentBoxHeight||1))}if(n.textElement||n.imageElement||n.svgElement){if(n.has("maxWidth")){const t=n.convertPX(n.css("maxWidth"));n.android("maxWidth",t)}if(n.has("maxHeight")){const t=n.convertPX(n.css("maxHeight"),!1);n.android("maxHeight",t)}}return n.render(s?n:i),this.getEnclosingTag(a,n.id,s?-1:n.renderDepth)}renderNodeStatic(t,e,n={},o="",i="",a,r){const s=Math.max(0,e);void 0===a?a=new U(0,void 0,this.afterInsertNode):(a.renderDepth=s,a.rendered=!0),a.apply(n),a.android("layout_width",o,!1),a.android("layout_height",i,!1),0!==a.containerType&&""!==a.controlName||a.setControlType(t);let l=this.getEnclosingTag(t,a.id,a.documentRoot||0!==e?e:-1,r?Q.formatPlaceholder(a.id):"");if(this.userSettings.showAttributes&&0===a.id){const t=J.repeat(s+1),e=a.combine().map(e=>`\n${t+e}`).join("");l=l.replace(Q.formatPlaceholder(a.id,"@"),e)}return n.documentId=a.documentId,l}renderSpace(t,e,n="",i=0,a=0,r){r=N(r);let s="",l="";return J.isPercent(e)&&(r.android.layout_columnWeight=s=(parseInt(e)/100).toFixed(2),e="0px"),J.isPercent(n)&&(r.android.layout_rowWeight=l=(parseInt(n)/100).toFixed(2),n="0px"),i>0&&(r.android.layout_columnSpan=""+i),a>0&&(r.android.layout_rowSpan=""+a),this.renderNodeStatic(o.SPACE,t,r,e,J.hasValue(n)?n:"wrap_content")}addGuideline(t,e,n="",i=!1,a=!1){"true"===t.dataset.constraintPercent&&(i=!0),"true"===t.dataset.constraintOpposite&&(a=!0);const s=e.groupParent?e:t.documentParent;[r.HORIZONTAL,r.VERTICAL].forEach((l,d)=>{if(!t.constraint[l]&&(""===n||l===n)){const n=0===d;let c,h,u,p;if(n?(c=a?"right":"left",h=a?"left":"right",u=a?"rightLeft":"leftRight",p=a?"leftRight":"rightLeft"):(c=a?"bottom":"top",h=a?"top":"bottom",u=a?"bottomTop":"topBottom",p=a?"topBottom":"bottomTop"),J.withinFraction(t.linear[c],s.box[c]))return void t.anchor(c,"parent",!0);const m=t.positionStatic?"bounds":"linear";let g,f="layout_constraintGuide_",b=!1;if(!t.pageFlow&&J.isPercent(t.css(c)))g=parseInt(t.css(c))/100,b=!0,f+="percent";else{if(!i&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[l]){const o=t.pageFlow&&e.pageFlow;let i=!1;if(o&&(J.withinFraction(t.linear[c],e.linear[h])?(t.anchor(u,e.documentId,!0),i=!0):J.withinFraction(t.linear[h],e.linear[c])&&(t.anchor(p,e.documentId,!0),i=!0)),(o||!t.pageFlow&&!e.pageFlow)&&(J.withinFraction(t.bounds[c],e.bounds[c])?(t.anchor(!n&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":c,e.documentId,!0),i=!0):J.withinFraction(t.bounds[h],e.bounds[h])&&(t.anchor(h,e.documentId,!0),i=!0)),i)return e.constraint[l]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.previousSiblings();if(e.length&&!t.alignedVertically(e)){const o=e[e.length-1];if(o.renderParent===t.renderParent)return t.anchor(n?"rightLeft":"top",o.documentId,!0),void(t.constraint[l]=o.constraint[l])}}if(i){g=parseFloat(Math.abs(Math.abs(t[m][c]-s.box[c])/s.box[n?"width":"height"]-(a?1:0)).toFixed(this.localSettings.constraint.percentAccuracy)),b=!0,f+="percent"}else g=t[m][c]-s.box[a?h:c],f+="begin"}const y=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=J.convertInt(t.verticalAlign);e<0&&(g+=e)}}else if(t.absoluteParent===t.documentParent)if(n)g=it(g,s,"Left");else{const t=s.valueBox(32);g=it(g,s,"Top",1===t[0])}if(g<=0)t.anchor(c,"parent",!0);else if(n&&s.hasWidth&&!t.has("right")&&g+t[m].width>=s.box.right||!n&&s.hasHeight&&!t.has("bottom")&&g+t[m].height>=s.box.bottom)t.anchor(h,"parent",!0);else{const i=J.optionalAsObject(y,`${l}.${f}.${c}`);let a=!1;if(i)for(const e in i)if(parseInt(i[e])===g){t.anchor(c,e,!0),t.anchorDelete(h),a=!0;break}if(!a){const i=N({android:{orientation:0===d?r.VERTICAL:r.HORIZONTAL},app:{[f]:b?""+g:J.formatPX(g)}});this.appendAfter(t.id,this.renderNodeStatic(o.GUIDELINE,t.renderDepth,i,"wrap_content","wrap_content"));const a=i.documentId;t.anchor(c,a,!0),t.anchorDelete(h),J.defaultWhenNull(y,l,f,c,a,""+g),e.constraint.guideline=y,t.constraint[n?"guidelineHorizontal":"guidelineVertical"]=a}}t.constraint[l]=!0}})}createNodeGroup(t,e,n,o){const i=new Y(this.cache.nextId,t,e,this.afterInsertNode);return i.siblingIndex=t.siblingIndex,n&&(n.appendTry(o||t,i),i.init()),this.cache.append(i),i}createNodeWrapper(t,e,n,o){const i=this.application.createNode(Z.createElement(t.actualParent?t.actualParent.baseElement:null,t.block));return t.documentRoot&&(i.documentRoot=!0,t.documentRoot=!1),i.inherit(t,"base","alignment"),n&&i.setControlType(n,o),i.exclude({section:q.APP_SECTION.ALL,procedure:q.NODE_PROCEDURE.CUSTOMIZATION,resource:q.NODE_RESOURCE.ALL}),i.siblingIndex=t.siblingIndex,e&&(e.appendTry(t,i),t.siblingIndex=0,-1!==t.renderPosition&&(i.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=i),i.saveAsInitial(),this.application.processing.cache.append(i,!e),t.unsetCache(),i}processRelativeHorizontal(t,e){const n=j.cleared(e),o=Math.ceil((()=>{const n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{const o=n.children.filter(e=>"left"===e.float&&e.siblingIndex<t.siblingIndex).map(t=>t.linear.right);if(o.length){const n=J.maxArray(o);if(e.some(t=>t.linear.left===n))return t.box.right-n}}return t.box.width})()),i=o*this.localSettings.relative.boxWidthWordWrapPercent,a="nowrap"!==t.css("whiteSpace"),r=Z.isUserAgent(24),s=[],l=new Set;let d,c,h=!1,u=0;const[p,m]=J.partition(e,t=>"right"===t.float);tt(m),[m,p].forEach((e,h)=>{const p=0===h?"left":"right";for(let g=0;g<e.length;g++){const f=e[g],b=e[g-1];let y=f.bounds;if(f.inlineText&&!f.hasWidth){const t=Z.getRangeClientRect(f.element);(t.multiLine||t.width<f.box.width)&&(y=t,0===f.multiLine&&(f.multiLine=t.multiLine),r&&t.multiLine&&!/^\s*\n+/.test(f.textContent)&&l.add(f))}let E=0===h?"leftRight":"rightLeft",T=[];if(0===g)f.anchor(p,"true"),s.push([f]);else{const e=(d&&s.length>1?d.linear.width:0)+u+f.marginLeft+("left"!==b.float||n.has(f)?y.width:0)-(r?f.borderRightWidth:0);function m(){return!f.rightAligned&&Math.floor(e)-(f.styleElement&&f.inlineStatic?f.paddingLeft+f.paddingRight:0)>o}at(f,b)&&(E="");const i=f.groupParent&&!f.hasAlign(128);T=!i&&b.inlineVertical&&f.inlineVertical?Z.getElementsBetween(b.element,f.element,!0):[];const h=(()=>{if(f.textElement){let t=!1;if(b.textElement&&(1===g&&f.plainText&&!b.rightAligned&&(t=0===T.length&&!/\s+$/.test(b.textContent)&&!/^\s+/.test(f.textContent)),a&&!t&&(l.has(b)||b.multiLine&&Z.hasLineBreak(b.element,!1,!0))))return!0;if(a&&!t&&(m()||f.multiLine&&Z.hasLineBreak(f.element)||f.preserveWhiteSpace&&/^\s*\n+/.test(f.textContent)))return!0}return!1})(),w=s[s.length-1],x=f.previousSiblings();if(h||i||!f.textElement&&m()||f.linear.top>=b.linear.bottom&&(f.blockStatic||f.floating&&b.float===f.float)||!f.floating&&(b.blockStatic||x.some(t=>t.lineBreak||t.excluded&&t.blockStatic)||T.some(t=>Z.isLineBreak(t)))||n.has(f)){c=w.filter(t=>!t.floating)[0]||w[0];for(let t=0;t<w.length;t++)w[t]!==c&&w[t].linear.bottom>c.linear.bottom&&(!w[t].floating||w[t].floating&&c.floating)&&(c=w[t]);f.anchor("topBottom",c.documentId),d&&f.linear.bottom<=d.bounds.bottom?f.anchor(E,d.documentId):(f.anchor(p,"true"),d=void 0),h&&f.multiLine&&ot(b,a),u=Math.min(0,h&&!b.multiLine&&f.multiLine&&!n.has(f)?f.linear.right-t.box.right:0),s.push([f])}else""!==E&&f.anchor(E,b.documentId),c&&f.anchor("topBottom",c.documentId),w.push(f)}"left"===f.float&&(d=f);let w=0;if(T.length&&!T.some(t=>!!Z.getElementAsNode(t)||Z.isLineBreak(t))){const t=Z.getRangeClientRect(T[0]),e=T.length>1?Z.getRangeClientRect(T[T.length-1]):null;t.multiLine||null!==e&&e.multiLine||(w=e?t.left-e.right:t.width)}Math.ceil(u+=w+f.marginLeft+y.width+f.marginRight)>=i&&!f.alignParent(p)&&ot(f,a)}}),s.length>1&&(t.alignmentType|=4096,h=!0);for(let e=0;e<s.length;e++){const n=s[e],o=j.baseline(n),i=o[0],a=j.baseline(n,!0)[0];let r=nt(n);i&&r&&r.bounds.height>i.bounds.height?i.anchor("bottom",r.documentId):r=void 0;const l=[];let d=0===e?"true":i?i.documentId:"";const c=e=>{if(!h){if(o.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",J.formatPX(t.bounds.height),!0)}return!1};for(const t of n)if(t!==i)if(t.baseline)l.push(t);else if(t.inlineVertical)switch(t.verticalAlign){case"text-top":a&&t.anchor("top",a.documentId);break;case"super":case"top":d&&t.anchor("top",d);break;case"middle":if(h){if(i){const e=Math.max(t.bounds.height,t.lineHeight),n=Math.max(i.bounds.height,i.lineHeight);e<n&&(t.anchor("top",i.documentId),t.modifyBox(2,Math.round((n-e)/2)))}}else t.anchor("centerVertical","true");break;case"text-bottom":a&&t!==r&&t.anchor("bottom",a.documentId);break;case"sub":case"bottom":c(t)&&(d=""),d&&t.anchor("bottom",d);break;default:"0px"!==t.verticalAlign&&l.push(t)}if(i&&l.length&&(et(i,l),i.baselineActive=!0,t.lineHeight||i.lineHeight)){let e=0;(e=i.lineHeight?i.lineHeight-i.bounds.height:t.lineHeight-(i.bounds.height-(i.paddingTop+i.paddingBottom)))>0&&(i.modifyBox(2,Math.floor(e/2)),i.modifyBox(8,Math.ceil(e/2)))}}}processConstraintHorizontal(t,e){const n=j.baseline(e)[0],o=j.baseline(e,!0)[0];let i=nt(e);const a=t.hasAlign(512);n&&(n.baselineActive=!0,i&&n.bounds.height<i.bounds.height?n.anchor("bottom",i.documentId):i=void 0);for(let t=0;t<e.length;t++){const s=e[t],l=e[t-1];if(0===t?s.anchor(a?"right":"left","parent"):l&&s.anchor(a?"rightLeft":"leftRight",l.documentId),s.inlineVertical)switch(s.verticalAlign){case"text-top":o&&s!==o&&s.anchor("top",o.documentId);break;case"super":case"top":s.anchor("top","parent");break;case"middle":s.anchorParent(r.VERTICAL);break;case"text-bottom":o&&s!==o&&s!==i&&s.anchor("bottom",o.documentId);break;case"sub":case"bottom":s.anchor("bottom","parent");break;case"baseline":n&&s!==n&&s.anchor("baseline",n.documentId)}}}processConstraintColumn(t,e){const n=t.toInt("columnCount"),o=Math.ceil(e.length/Math.min(n,e.length)),i=[];for(let t=0,n=0;t<e.length;t++){const a=e[t];t%o==0&&(t>0&&n++,void 0===i[n]&&(i[n]=[])),i[n].push(a)}const r=J.convertInt(t.css("columnGap"))||16,s=i.map(t=>J.maxArray(t.map(t=>t.marginLeft+t.marginRight))).reduce((t,e)=>t+e,0),l=Math.max((s+r*(n-1))/t.box.width/n,.01),d=[],c=[],h=[];for(let t=0;t<i.length;t++){const e=i[t],o=e[0];t>0&&o.android(o.localizeString(a.MARGIN_LEFT),J.formatPX(o.marginLeft+r)),h.push(o),e.forEach(t=>{let e=0;(e=t.has("width",32)?t.toInt("width")/100:1/n-l)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toFixed(2)))}),c.push(e)}d.push(h),[d,c].forEach((t,e)=>{const n=0===e;t.forEach(t=>{const e=t[0],o=t[t.length-1];e.anchor(n?"left":"top","parent"),o.anchor(n?"right":"bottom","parent");for(let o=0;o<t.length;o++){const i=t[o],a=t[o-1],r=t[o+1];n?i.app("layout_constraintVertical_bias","0"):o>0&&i.anchor("left",e.documentId),r&&i.anchor(n?"rightLeft":"bottomTop",r.documentId),a&&i.anchor(n?"leftRight":"topBottom",a.documentId),ct.setConstraintDimension(i),i.anchored=!0}n?e.app("layout_constraintHorizontal_chainStyle","spread_inside"):e.app("layout_constraintVertical_chainStyle","packed")})})}processConstraintChain(t,e,n){const o=j.partitionRows(e),i=j.actualParent(e)||t,a=t.hasAlign(64),s=o.length>1&&t.hasAlign(1024)?j.clearedAll(i):new Map;let l=!1;o.length>1&&(t.alignmentType|=4096),a&&(l=t.hasAlign(512),e.some(t=>t.has("width",32))&&t.android("layout_width","match_parent"));for(const r of e)a||(r.rightAligned?(J.withinFraction(r.linear.right,i.box.right)||r.linear.right>i.box.right)&&r.anchor("right","parent"):(J.withinFraction(r.linear.left,i.box.left)||r.linear.left<i.box.left)&&r.anchor("left","parent")),(J.withinFraction(r.linear.top,t.box.top)||r.linear.top<t.box.top||r.floating&&1===o.length)&&r.anchor("top","parent"),!this.withinParentBottom(r.linear.bottom,n)||i.documentBody||!i.hasHeight&&r.alignParent("top")||r.anchor("bottom","parent");const d=[];let c,h,u,p;l?(c="right",h="left",u="rightLeft",p="leftRight"):(c="left",h="right",u="leftRight",p="rightLeft"),o.forEach((t,e)=>{const n=t[0],m=t[t.length-1];let g;if(n.anchor(c,"parent"),"center"===i.css("textAlign")?n.app("layout_constraintHorizontal_chainStyle","spread"):t.length>1&&(l?(m.app("layout_constraintHorizontal_chainStyle","packed"),m.app("layout_constraintHorizontal_bias","1")):(n.app("layout_constraintHorizontal_chainStyle","packed"),n.app("layout_constraintHorizontal_bias","0"))),t.length>1&&m.anchor(h,"parent"),e>0){const t=o[e-1];g=t[0];for(let e=1;e<t.length;e++)t[e].linear.bottom>g.linear.bottom&&(g=t[e])}for(let f=0;f<t.length;f++){const b=t[f],y=t[f-1],E=t[f+1];if(b.autoMargin.leftRight?b.anchorParent(r.HORIZONTAL):(y&&b.anchor(u,y.documentId),E&&b.anchor(p,E.documentId)),ct.setConstraintDimension(b),e>0){const t=o[e-1],r=t[t.length-1],y=l?m:n,E=[];if(r?(E.push(r),b.baseElement&&E.push(...J.flatMap(Z.getElementsBetween(r.baseElement,b.baseElement),t=>Z.getElementAsNode(t)))):E.push(y),!a||0!==s.size&&E.some(t=>s.has(t)))g&&(f>0?(b.anchor("top",n.documentId),b.modifyBox(2,-1*n.marginTop)):(b.anchor("topBottom",g.documentId),g.anchor("bottomTop",b.documentId)));else if(t.length){b.anchor("topBottom",r.documentId),r.alignSibling("bottomTop")||r.anchor("bottomTop",b.documentId);for(let t=d.length-2;t>=0;t--){const e=d[t];if(e.linear.bottom>r.linear.bottom){if((l?Math.ceil(e.linear[h])-Math.floor(i.box[h]):Math.ceil(i.box[h])-Math.floor(e.linear[h]))>=b.linear.width){b.anchor(u,e.documentId),b.anchorDelete(p),b===n?(b.anchorDelete(c),b.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):b===m&&b.anchorDelete(h);break}}}}}d.push(b)}}),ct.evaluateAnchors(e)}withinParentBottom(t,e){return J.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return e=>{e.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,supportRTL:void 0===t.supportRTL||t.supportRTL,constraintPercentAccuracy:this.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===t.customizationsOverwritePrivilege||t.customizationsOverwritePrivilege}}}}class ht extends androme.lib.base.ExtensionManager{}var ut='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{&value}">{&name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e';var pt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{&name}">{&value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e';var mt="{&value}\n\x3c!-- filename: {&name} --\x3e";var gt='<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n!1\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e';var ft='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{&name}">{~value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e';var bt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{&name}">\n!items\n\t\t<item>{&value}</item>\n!items\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e';var yt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{&name}" parent="{~parent}">\n!items\n\t\t<item name="{&name}">{&value}</item>\n!items\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e',Et=androme.lib.util,Tt=androme.lib.xml;function wt(t){const e=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/g;let o;for(;null!==(o=n.exec(t));)e.push({uri:o[1],pathname:o[2],filename:o[3],content:""});return e}function xt(t){const e=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/g;let o;for(;null!==(o=n.exec(t));)e.push({content:o[0].replace(o[1],"").trim(),pathname:o[2],filename:o[3]});return e}function vt(t,e,n){return{pathname:t,filename:e,content:n}}function Rt(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}class St extends androme.lib.base.File{saveAllToDisk(t){const e=[],n=[...t.views,...t.includes];for(let t=0;t<n.length;t++){const o=n[t];e.push(vt(o.pathname,0===t?this.userSettings.outputMainFileName:`${o.filename}.xml`,o.content))}const o=this.resourceDrawableToXml();e.push(...xt(this.resourceStringToXml())),e.push(...xt(this.resourceStringArrayToXml())),e.push(...xt(this.resourceFontToXml())),e.push(...xt(this.resourceColorToXml())),e.push(...xt(this.resourceStyleToXml())),e.push(...xt(this.resourceDimenToXml())),e.push(...wt(o),...xt(o)),this.saveToDisk(e)}layoutAllToXml(t,e=!1){const n={},o=[],i=[...t.views,...t.includes];for(let t=0;t<i.length;t++){const a=i[t];n[a.filename]=a.content,e&&o.push(vt(a.pathname,0===t?this.userSettings.outputMainFileName:`${a.filename}.xml`,a.content))}return e&&this.saveToDisk(o),n}resourceAllToXml(t=!1){const e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(const t in e)""===e[t]&&delete e[t];if(t){const t=[];for(const n in e)"drawable"===n&&t.push(...wt(e[n])),t.push(...xt(e[n]));this.saveToDisk(t)}return e}resourceStringToXml(t=!1){const e={1:[]};this.stored.strings=new Map([...this.stored.strings.entries()].sort(Rt)),""===this.appName||this.stored.strings.has("app_name")||e[1].push({name:"app_name",value:this.appName});for(const[t,n]of this.stored.strings.entries())e[1].push({name:t,value:n});let n=Tt.createTemplate(Tt.parseTemplate(ft),e);return n=k(n,this.userSettings.insertSpaces,!0),t&&this.saveToDisk(xt(n)),n}resourceStringArrayToXml(t=!1){let e="";if(this.stored.arrays.size){const n={1:[]};this.stored.arrays=new Map([...this.stored.arrays.entries()].sort());for(const[t,e]of this.stored.arrays.entries())n[1].push({name:t,items:e.map(t=>({value:t}))});e=k(e=Tt.createTemplate(Tt.parseTemplate(bt),n),this.userSettings.insertSpaces,!0),t&&this.saveToDisk(xt(e))}return e}resourceFontToXml(t=!1){let e="";if(this.stored.fonts.size){const n=this.userSettings;this.stored.fonts=new Map([...this.stored.fonts.entries()].sort());const o=n.targetAPI<26?"app":"android";for(const[t,n]of this.stored.fonts.entries()){const i={name:t,namespace:M(o),1:[]};for(const e in n){const[n,o]=e.split("-");i[1].push({style:n,weight:o,font:`@font/${t+("normal"===n&&"normal"===o?`_${n}`:("normal"!==n?`_${n}`:"")+("normal"!==o?`_${o}`:""))}`})}e+="\n\n"+Tt.createTemplate(Tt.parseTemplate(gt),i)}n.targetAPI<26&&(e=e.replace(/android/g,"app")),e=k(e,n.insertSpaces),t&&this.saveToDisk(xt(e))}return e.trim()}resourceColorToXml(t=!1){let e="";if(this.stored.colors.size){const n={1:[]};this.stored.colors=new Map([...this.stored.colors.entries()].sort());for(const[t,e]of this.stored.colors.entries())n[1].push({name:t,value:e});e=k(e=Tt.createTemplate(Tt.parseTemplate(ut),n),this.userSettings.insertSpaces),t&&this.saveToDisk(xt(e))}return e}resourceStyleToXml(t=!1){let e="";if(this.stored.styles.size){const n=this.userSettings,o={1:[]},i=Array.from(this.stored.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1);for(const t of i){const e=[];t.attrs.split(";").sort().forEach(t=>{const[n,o]=t.split("=");e.push({name:n,value:o.replace(/"/g,"")})}),o[1].push({name:t.name,parent:t.parent||"",items:e})}e=k(e=O((e=Tt.createTemplate(Tt.parseTemplate(yt),o)).trim(),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces),t&&this.saveToDisk(xt(e))}return e}resourceDimenToXml(t=!1){let e="";if(this.stored.dimens.size){const n=this.userSettings,o={1:[]};this.stored.dimens=new Map([...this.stored.dimens.entries()].sort());for(const[t,e]of this.stored.dimens.entries())o[1].push({name:t,value:e});e=k(e=O((e=Tt.createTemplate(Tt.parseTemplate(pt),o)).trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(xt(e))}return e}resourceDrawableToXml(t=!1){let e="";if(this.stored.drawables.size||this.stored.images.size){const n=this.userSettings,o=Tt.parseTemplate(mt);for(const[t,n]of this.stored.drawables.entries())e+="\n\n"+Tt.createTemplate(o,{name:`res/drawable/${t}.xml`,value:n});for(const[t,n]of this.stored.images.entries())if(Object.keys(n).length>1)for(const i in n)e+="\n\n"+Tt.createTemplate(o,{name:`res/drawable-${i}/${t}.${Et.lastIndexOf(n[i],".")}`,value:`\x3c!-- image: ${n[i]} --\x3e`});else n.mdpi&&(e+="\n\n"+Tt.createTemplate(o,{name:`res/drawable/${t}.${Et.lastIndexOf(n.mdpi,".")}`,value:`\x3c!-- image: ${n.mdpi} --\x3e`}));e=k(e=O(e.trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk([...wt(e),...xt(e)])}return e}get userSettings(){return this.resource.userSettings}}var At=androme.lib.dom,It=androme.lib.enumeration,_t=androme.lib.util;class Ct extends androme.lib.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache.elements)if(!t.hasBit("excludeProcedure",It.NODE_PROCEDURE.ACCESSIBILITY)){const e=t.element;switch(t.controlName){case o.EDIT:t.companion||[At.getPreviousElementSibling(e),At.getNextElementSibling(e)].some(n=>{if(n){const o=At.getElementAsNode(n),i=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?At.getElementAsNode(n.parentElement):void 0;if(o&&o.visible&&o.pageFlow){if(_t.hasValue(n.htmlFor)&&n.htmlFor===e.id)return o.android("labelFor",t.documentId),!0;if(o.textElement&&i)return i.android("labelFor",t.documentId),!0}}return!1});case o.SELECT:case o.CHECKBOX:case o.RADIO:case o.BUTTON:e.disabled&&t.android("focusable","false")}}}}var Nt=androme.lib.base.Layout,Pt=androme.lib.constant,Lt=androme.lib.dom,Ot=androme.lib.enumeration,kt=androme.lib.util;class Dt extends androme.lib.extensions.CssGrid{processNode(e,n){super.processNode(e,n);const o=e.data(Pt.EXT_NAME.CSS_GRID,"mainData");let i="";if(o){const a=new Nt(n,e,t.GRID,4,e.length,e.children);a.rowCount=o.row.count,a.columnCount=o.column.count,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(e,n){const i=n.data(Pt.EXT_NAME.CSS_GRID,"mainData"),a=e.data(Pt.EXT_NAME.CSS_GRID,"cellData");let r,s="";if(i&&a){function l(t,o,r){const s=i[o],l=`${o}Start`,d=`${o}Span`,c=a[d]-a[l],h=`min${kt.capitalize(r)}`;let u=0,p=0,m=0,g=0;s.unit.every(t=>"auto"===t)&&("width"===r?s.unit=s.unit.map(()=>"1fr"):s.unit.length=0);for(let t=0,o=0;t<a[d];t++){m+=parseInt(n.convertPX(s.unitMin[a[l]+t]));let i=s.unit[a[l]+t];if(!kt.hasValue(i)){if(!s.auto[o])continue;i=s.auto[o],s.auto[o+1]&&o++}if(kt.hasValue(i)){if("auto"===i||"min-content"===i||"max-content"===i){c<s.unit.length&&(!n.has(r)||s.unit.some(t=>kt.isUnit(t))||"min-content"===i)?(u=e.bounds[r],p=0,g=0):(u=0,p=0,g=.01);break}if(kt.isPercent(i))g+=parseInt(i)/100,p=u,u=0;else if(i.endsWith("fr"))g+=parseInt(i),p=u,u=0;else if(i.endsWith("px")){const t=parseInt(i);0===p?u+=t:p+=t}}}if(a[d]>1){const t=(a[d]-1)*s.gap;u>0&&0===p?u+=t:p>0&&(p+=t),m>0&&(m+=t)}m>0&&(s.autoFill&&0===u&&1===i["column"===o?"row":"column"].count?(u=Math.max(e.bounds.width,m),g=0):p=m),t.android(`layout_${o}`,""+a[l]),a[d]>1&&t.android(`layout_${o}Span`,""+a[d]),p>0&&!t.has(h)&&t.css(h,kt.formatPX(p),!0),g>0?(t.android(`layout_${r}`,"0px"),t.android(`layout_${o}Weight`,""+g),t.mergeGravity("layout_gravity","column"===o?"fill_horizontal":"fill_vertical")):u>0&&!t.has(r)&&t.css(r,kt.formatPX(u),!0)}const d=e.has("alignSelf")?e.css("alignSelf"):i.alignItems,c=e.has("justifySelf")?e.css("justifySelf"):i.justifyItems;if(/(start|end|center|baseline)/.test(d)||/(start|end|center|baseline|left|right)/.test(c)){(r=this.application.createNode(Lt.createElement(e.actualParent?e.actualParent.baseElement:null))).tagName=e.tagName,r.setControlType(o.FRAME,t.FRAME),r.inherit(e,"initial","base"),r.resetBox(510),r.exclude({procedure:Ot.NODE_PROCEDURE.AUTOFIT|Ot.NODE_PROCEDURE.CUSTOMIZATION,resource:Ot.NODE_RESOURCE.BOX_STYLE|Ot.NODE_RESOURCE.ASSET}),n.appendTry(e,r),r.render(n),this.application.processing.cache.append(r,!1),e.inheritBox(30,r),l(r,"column","width"),l(r,"row","height");let i=!1;c.endsWith("start")||c.endsWith("left")||c.endsWith("baseline")?(e.mergeGravity("layout_gravity","left"),i=!0):c.endsWith("end")||c.endsWith("right")?(e.mergeGravity("layout_gravity","right"),i=!0):c.endsWith("center")&&(e.mergeGravity("layout_gravity","center_horizontal"),i=!0),e.hasWidth||e.android("layout_width",i?"wrap_content":"match_parent",!1),d.endsWith("start")||d.endsWith("baseline")?e.mergeGravity("layout_gravity","top"):d.endsWith("end")?e.mergeGravity("layout_gravity","bottom"):d.endsWith("center")?e.mergeGravity("layout_gravity","center_vertical"):e.hasHeight||e.android("layout_height","match_parent",!1),e.parent=r;const a=new Nt(n,r,t.FRAME,2048,1,r.children);s=this.application.renderLayout(a)}const h=r||e;l(h,"column","width"),l(h,"row","height"),h.has("height")||(n.hasHeight&&(h.android("layout_height","0px"),h.android("layout_rowWeight","1")),h.mergeGravity("layout_gravity","fill_vertical")),h.has("width")||h.mergeGravity("layout_gravity","fill_horizontal")}return{output:s,parent:r,complete:""!==s}}postBaseLayout(t){const e=t.data(Pt.EXT_NAME.CSS_GRID,"mainData");if(e){function n(n,o){const i="column"===o?16:2,a="column"===o?4:8,r="column"===o?256:32,s=e[o],l=n.startsWith("space")?function(t,e){const n=[];if("column"===e)for(let e=0;e<t.column.count;e++){n[e]=[];for(let o=0;o<t.row.count;o++)n[e].push(t.rowData[o][e])}else for(let e=0;e<t.row.count;e++)n.push(t.rowData[e]);return n}(e,o):[],d=function(t,e,n){const o="column"===e?"width":"height";let i=0;for(let n=0;n<t[e].count;n++){const a=t[e].unit[n];a.endsWith("px")?i+=parseInt(a):i+=kt.minArray(t.rowData[n].map(t=>t&&t.length?t[0].bounds[o]:0))}return i=n[o]-(i+=(t[e].count-1)*t[e].gap)}(e,o,t);if(d>0){const c="column"===o?"width":"height",h=e[o].count,u=new Set;switch(n){case"center":t.modifyBox(r,Math.floor(d/2)),s.normal=!1;break;case"right":if("row"===o)break;case"end":case"flex-end":t.modifyBox(r,d),s.normal=!1;break;case"space-around":{const t=Math.floor(d/(2*h));for(let e=0;e<h;e++)new Set(kt.flatArray(l[e])).forEach(n=>{u.has(n)?n.cssPX(c,2*t):(n.modifyBox(i,t),e<h-1&&n.modifyBox(a,t),u.add(n))});s.normal=!1;break}case"space-between":{const t=Math.floor(d/(2*(h-1))),e=kt.flatArray(l[h-1]);for(let n=0;n<h;n++)new Set(kt.flatArray(l[n])).forEach(o=>{u.has(o)?o.cssPX(c,2*t):(n>0&&o.modifyBox(i,t),n<h-1&&!e.some(t=>t===o)&&o.modifyBox(a,t),u.add(o))});s.normal=!1;break}case"space-evenly":{const t=Math.floor(d/(h+1)),e=kt.flatArray(l[h-1]);for(let n=0;n<h;n++){const o=Math.floor(t/2);new Set(kt.flatArray(l[n])).forEach(r=>{u.has(r)?r.cssPX(c,t):(r.modifyBox(i,0===n?t:o),n<h-1&&!e.some(t=>t===r)&&r.modifyBox(a,o),u.add(r))})}s.normal=!1;break}}}}if(t.hasWidth&&"normal"!==e.justifyContent&&n(e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&n(e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto")){const n=e.column.gap*(e.column.count-1);n>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",n),t.cssPX("width",n,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",kt.formatPX(t.bounds.width+n),!0))}}}postProcedure(t){const e=t.data(Pt.EXT_NAME.CSS_GRID,"mainData");if(e){const n=this.application.controllerHandler,o=Array.from(e.children)[e.children.size-1];if(e.column.unit.every(t=>kt.isPercent(t))){const i=e.column.unit.reduce((t,e)=>t+parseInt(e),0);if(i<100){t.android("columnCount",""+(e.column.count+1));for(let r=0;r<e.row.count;r++)n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,kt.formatPercent(100-i),"wrap_content",0,0,N({android:{[t.localizeString(a.MARGIN_LEFT)]:kt.formatPX(e.column.gap),layout_row:""+r,layout_column:""+e.column.count}})))}}for(let i=0;i<e.emptyRows.length;i++){const a=e.emptyRows[i];if(a)for(let r=0;r<a.length;r++)if(1===a[r]){n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,"wrap_content",kt.formatPX(e.row.gap),0,0,N({android:{layout_row:""+i,layout_column:""+r}})));break}}}}}class Bt extends androme.lib.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var Mt=androme.lib.base.Layout,Xt=androme.lib.base.NodeList,Gt=androme.lib.constant,Ht=(androme,androme.lib.util);const zt={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};class Ft extends androme.lib.extensions.Flexbox{processNode(e,n){super.processNode(e,n);const o=e.data(Gt.EXT_NAME.FLEXBOX,"mainData"),i=new Mt(n,e,0,4,e.length);return i.rowCount=o.rowCount,i.columnCount=o.columnCount,e.filter(t=>!t.pageFlow).length>0||o.rowDirection&&(1===o.rowCount||e.hasHeight)||o.columnDirection&&1===o.columnCount?i.containerType=t.CONSTRAINT:i.setType(t.LINEAR,o.columnDirection?8:16),{output:this.application.renderNode(i),complete:!0}}processChild(e,n){let o="";if(e.hasAlign(128)){const i=new Mt(n,e,t.CONSTRAINT,4,e.length,e.children);o=this.application.renderNode(i)}return{output:o,complete:""!==o}}postBaseLayout(e){const n=e.data(Gt.EXT_NAME.FLEXBOX,"mainData");if(n){const o=[],i=[],a=[],s=[];if(n.wrap){let r;e.filter(t=>t.hasAlign(128)).forEach(t=>{const l=t.renderFilter(t=>t.pageFlow);if(n.rowDirection)t.android("layout_width","match_parent"),e.hasHeight&&(t.android("layout_height","0px"),t.app("layout_constraintVertical_weight","1")),o.push(l),s.push(t);else{if(t.android("layout_height","match_parent"),i.push(l),r){let e=r[0];for(let t=1;t<r.length;t++)r[t].linear.right>e.linear.right&&(e=r[t]);const n=t.linear.left-e.actualRight();n>0&&t.modifyBox(16,n),t.constraint.horizontal=!0}a.push(t),r=l}}),e.is(t.LINEAR)?n.columnDirection&&n.wrapReverse&&e.mergeGravity("gravity","right"):(s.length&&i.push(s),a.length&&o.push(a))}else n.rowDirection?o[0]=n.directionReverse?n.children.reverse():n.children:(e.hasHeight||e.android("layout_height","match_parent"),i[0]=n.directionReverse?n.children.reverse():n.children);[o,i].forEach((t,o)=>{const i=0===o,l=i?1:0;t.forEach(t=>{const d=zt.widthHeight[l],c=d.toLowerCase(),[h,u]=[zt.leftTop[o],zt.leftTop[l]],[p,m]=[zt.rightBottom[o],zt.rightBottom[l]],g=Ht.maxArray(t.map(t=>t.flexElement?0:t.bounds[d.toLowerCase()]));let f;for(let e=0;e<t.length;e++){const l=t[e],h=t[e-1],p=t[e+1];if(p&&l.anchor(zt.rightLeftBottomTop[o],p.documentId),h&&l.anchor(zt.leftRightTopBottom[o],h.documentId),t!==a&&t!==s){switch(l.flexbox.alignSelf){case"start":case"flex-start":l.anchor(u,"parent");break;case"end":case"flex-end":l.anchor(m,"parent");break;case"baseline":i&&(void 0===f&&(f=Xt.baseline(t)[0]),f&&(l!==f?(l.anchor("baseline",f.documentId),l.constraint.vertical=!0):l.anchor("top","parent")));break;case"center":l.anchorParent(i?r.VERTICAL:r.HORIZONTAL);break;default:if(l.anchor(n.wrapReverse?m:u,"parent"),!l[`has${d}`]&&!l.has(c,32)){const t=l.unsafe("initial");t.bounds&&t.bounds[c]<g&&(l.android(`layout_${d.toLowerCase()}`,"0px"),l.anchor(n.wrapReverse?u:m,"parent"))}}ct.setFlexDimension(l,i)}l.positioned=!0}const b=zt.horizontalVertical[o],y=t[0],E=t[t.length-1],T=`layout_constraint${b}_chainStyle`;if(y.anchor(h,"parent"),E.anchor(p,"parent"),t.every(t=>t.flexbox.grow<1))switch(n.justifyContent){case"left":if(!i)break;case"start":case"flex-start":y.app(T,"packed"),y.app(`layout_constraint${b}_bias`,"0");break;case"center":y.app(T,"packed"),y.app(`layout_constraint${b}_bias`,"0.5");break;case"right":if(!i)break;case"end":case"flex-end":y.app(T,"packed"),y.app(`layout_constraint${b}_bias`,"1");break;case"space-between":y.app(T,"spread_inside");break;case"space-evenly":y.app(T,"spread"),t.forEach(t=>t.app(`layout_constraint${b}_weight`,""+(t.flexbox.grow||1)));break;case"space-around":const e=this.application.controllerHandler,o=b.toLowerCase();y.app(T,"spread_inside"),y.constraint[o]=!1,E.constraint[o]=!1,e.addGuideline(y,y.parent,o,!0,!1),e.addGuideline(E,y.parent,o,!0,!0)}t.length>1&&(i&&Ht.withinFraction(e.box.left,y.linear.left)&&Ht.withinFraction(E.linear.right,e.box.right)||!i&&Ht.withinFraction(e.box.top,y.linear.top)&&Ht.withinFraction(E.linear.bottom,e.box.bottom))?y.app(T,"spread_inside",!1):(y.app(T,"packed",!1),y.app(`layout_constraint${b}_bias`,n.directionReverse?"1":"0",!1))})})}}}var Vt=androme.lib.base.Layout,Wt=androme.lib.constant,$t=(androme,androme.lib.util);class Ut extends androme.lib.extensions.Grid{processNode(e,n){super.processNode(e,n);const o=e.data(Wt.EXT_NAME.GRID,"mainData");let i="";if(o){const a=new Vt(n,e,t.GRID,4,e.length,e.children);a.columnCount=o.columnCount,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(e,n){const o=n.data(Wt.EXT_NAME.GRID,"mainData"),i=e.data(Wt.EXT_NAME.GRID,"cellData");if(o&&i){i.rowSpan>1&&e.android("layout_rowSpan",""+i.rowSpan),i.columnSpan>1&&e.android("layout_columnSpan",""+i.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");const o=i.siblings?i.siblings.slice(0):[];if(o.length){const i=this.application.controllerHandler;o.unshift(e);const a=new Vt(n,e,0,0,o.length,o);if(a.linearY)a.node=i.createNodeGroup(e,o,n),a.setType(t.LINEAR,16);else{a.init();const t=i.processTraverseHorizontal(a);a.node=t.layout.node}if(0!==a.containerType){return function(t,e){let n;for(let t=0;t<e.length;t++){const o=e[t];if(void 0===n)n=o.data(Wt.EXT_NAME.GRID,"cellData");else if(n){const t=o.data(Wt.EXT_NAME.GRID,"cellData");if(t)for(const e in t)switch(typeof t[e]){case"number":n[e]+=t[e];break;case"boolean":!0===t[e]&&(n[e]=!0)}}o.siblingIndex=t,o.data(Wt.EXT_NAME.GRID,"cellData",null)}t.data(Wt.EXT_NAME.GRID,"cellData",n)}(a.node,o),{output:this.application.renderNode(a),parent:a.node,complete:!0}}}}return{output:""}}postBaseLayout(t){if(!t.tableElement||"collapse"!==t.css("borderCollapse")){const e=t.data(Wt.EXT_NAME.GRID,"mainData");e&&t.renderEach(t=>{const n=t.data(Wt.EXT_NAME.GRID,"cellData");if(n){const o=t.actualParent;if(o&&!o.visible&&(n.cellStart&&(e.paddingTop=o.paddingTop+o.marginTop),n.rowStart&&(e.paddingLeft=Math.max(o.marginLeft+o.paddingLeft,e.paddingLeft)),n.rowEnd)){const i=o.marginBottom+o.paddingBottom+(n.cellEnd?0:o.marginTop+o.paddingTop);i>0&&(n.cellEnd?e.paddingBottom=i:this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",$t.formatPX(i),e.columnCount))),e.paddingRight=Math.max(o.marginRight+o.paddingRight,e.paddingRight)}}}),t.modifyBox(32,e.paddingTop),t.modifyBox(64,e.paddingRight),t.modifyBox(128,e.paddingBottom),t.modifyBox(256,e.paddingLeft)}!t.hasWidth&&$t.withinFraction(t.box.right,$t.maxArray(t.renderFilter(t=>t.inlineFlow||!t.blockStatic).map(t=>t.linear.right)))&&t.android("layout_width","wrap_content")}}var Yt=androme.lib.base.Layout,jt=androme.lib.base.NodeList,Kt=androme.lib.constant,Zt=androme.lib.dom,qt=(androme,androme.lib.util);class Jt extends androme.lib.extensions.List{processNode(e,n){super.processNode(e,n);const o=new Yt(n,e,0,0,e.length,e.children);let i="";return jt.linearY(o.children)?(o.rowCount=e.length,o.columnCount=e.some(t=>"inside"===t.css("listStylePosition"))?3:2,o.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(o)&&(o.rowCount=1,o.columnCount=o.length,o.setType(t.RELATIVE,8)),0!==o.containerType&&(i=this.application.renderNode(o)),{output:i,complete:""!==i}}processChild(e,n){const i=e.data(Kt.EXT_NAME.LIST,"mainData");let r="";if(i){const s=this.application.controllerHandler,l=qt.convertInt(n.css("paddingLeft"))+qt.convertInt(n.css("marginLeft"));let d=0,c=e.marginLeft;e.modifyBox(16,null),n.is(t.GRID)?(d=qt.convertInt(n.android("columnCount")),c+=l):n.item(0)===e&&(c+=l);const h=e.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=qt.convertInt(t.documentParent.cssInitial("marginLeft")));if(h&&""===i.ordinal){const o=new Yt(n,h);h.inlineText||0===h.length?o.containerType=t.TEXT:(o.retain(h.children),s.checkRelativeHorizontal(o)?o.setType(t.RELATIVE,8):o.setType(t.CONSTRAINT,2)),h.parent=n,s.prependBefore(e.id,this.application.renderNode(o)),3===d&&e.android("layout_columnSpan","2"),(c+=h.marginLeft)>0&&!h.hasWidth&&h.android("minWidth",qt.formatPX(c)),h.modifyBox(16,null)}else{const t=d>0?"0":"",r="inside"===e.css("listStylePosition");let[h,u]=[0,0],p="";if(""!==i.imageSrc){const t=Zt.getBackgroundPosition(i.imagePosition,e.bounds,e.fontSize);h=t.left,u=t.top,p=w.addImageUrl(i.imageSrc)}const m=""!==p&&!e.has("listStyleImage")||0===l&&0===e.marginLeft?"":"right";""===m&&(c+=e.paddingLeft,e.modifyBox(256,null)),h>0&&c>h&&(c-=h),c=Math.max(c,20);const g=(()=>c<=24?6:c<=32?8:10)(),f=h>0?qt.formatPX(h):"",b=c>0?qt.formatPX(c):"",y=N({android:{layout_columnWeight:t}});if(r){const i=s.renderNodeStatic(o.SPACE,n.renderDepth+1,{android:{minWidth:b,layout_columnWeight:t,[e.localizeString(a.MARGIN_LEFT)]:f}},"wrap_content","wrap_content");s.prependBefore(e.id,i),y.android.minWidth=qt.formatPX("24")}else Object.assign(y.android,{minWidth:b,gravity:c>20?e.localizeString(m):"",[a.MARGIN_TOP]:e===n.children[0]&&e.marginTop>0?qt.formatPX(e.marginTop):"",[e.localizeString(a.MARGIN_LEFT)]:f,[e.localizeString(a.PADDING_LEFT)]:""===m&&""===p?qt.formatPX(g):20===c?"2px":"",[e.localizeString(a.PADDING_RIGHT)]:"right"===m&&c>20?qt.formatPX(g):"",[a.PADDING_TOP]:e.paddingTop>0?qt.formatPX(e.paddingTop):""}),3===d&&e.android("layout_columnSpan","2");if("DT"===e.tagName&&""===p)e.android("layout_columnSpan",""+d);else{""!==p?Object.assign(y.android,{src:`@drawable/${p}`,[a.MARGIN_TOP]:u>0?qt.formatPX(u):"",scaleType:r||"right"!==m?"fitStart":"fitEnd"}):y.android.text=i.ordinal;const t=this.application.createNode(Zt.createElement(e.actualParent?e.actualParent.baseElement:null));t.tagName=`${e.tagName}_ORDINAL`,t.inherit(e,"textStyle"),""!==i.ordinal&&!/[A-Za-z\d]+\./.test(i.ordinal)&&t.toInt("fontSize")>12&&t.css("fontSize","12px"),this.application.processing.cache.append(t,!1);const l=s.renderNodeStatic(""!==p?o.IMAGE:""!==i.ordinal?o.TEXT:o.SPACE,n.renderDepth+1,y,"wrap_content","wrap_content",t);s.prependBefore(e.id,l)}}d>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight","1"));const[u,p]=[jt.linearX(e.children),jt.linearY(e.children)];if(u||p){const o=new Yt(n,e,t.LINEAR,u?8:16,e.length,e.children);r=this.application.renderNode(o)}}return{output:r,next:""!==r}}postBaseLayout(t){super.postBaseLayout(t);const e=t.android("columnCount");for(let n=0;n<t.renderChildren.length;n++){const i=t.renderChildren[n],r=t.renderChildren[n-1];let s=0;if(r){const t=qt.convertInt(r.android(a.MARGIN_BOTTOM));t>0&&(s+=t,r.delete("android",a.MARGIN_BOTTOM),r.modifyBox(8,null))}const l=qt.convertInt(i.android(a.MARGIN_TOP));if(l>0&&(s+=l,i.delete("android",a.MARGIN_TOP),i.modifyBox(2,null)),s>0){const t=N({android:{layout_columnSpan:""+e}}),n=this.application.controllerHandler.renderNodeStatic(o.SPACE,i.renderDepth,t,"match_parent",qt.formatPX(s));this.application.controllerHandler.prependBefore(i.id,n,0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class Qt extends androme.lib.extensions.Relative{}var te=androme.lib.base.Layout,ee=androme.lib.constant,ne=androme.lib.enumeration,oe=androme.lib.util;class ie extends androme.lib.extensions.Sprite{processNode(e,n){let i,a="";const r=e.data(ee.EXT_NAME.SPRITE,"mainData");if(r&&r.uri&&r.position&&e.baseElement){(i=this.application.createNode(e.baseElement)).inherit(e,"initial","base","styleMap"),i.setControlType(o.FRAME),i.exclude({procedure:ne.NODE_PROCEDURE.CUSTOMIZATION,resource:ne.NODE_RESOURCE.IMAGE_SOURCE}),n.appendTry(e,i),this.application.processing.cache.append(i,!1),e.setControlType(o.IMAGE,t.IMAGE),e.exclude({procedure:ne.NODE_PROCEDURE.AUTOFIT,resource:ne.NODE_RESOURCE.FONT_STYLE|ne.NODE_RESOURCE.BOX_STYLE}),e.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:oe.formatPX(r.width),height:oe.formatPX(r.height),marginTop:oe.formatPX(r.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:oe.formatPX(r.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),e.unsetCache(),e.android("src",`@drawable/${w.addImage({mdpi:r.uri})}`),e.parent=i;const s=new te(n,i,t.FRAME,2048,1,i.children);a=this.application.renderLayout(s)}return{output:a,parent:i,complete:!0}}}class ae extends androme.lib.extensions.Substitute{processNode(e,n){return e.containerType=e.blockStatic?t.BLOCK:t.INLINE,super.processNode(e,n)}postProcedure(t){const e=Object.assign({},this.options[t.element.id]);t.apply(w.formatOptions(e,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")))}}var re=androme.lib.base.Layout,se=androme.lib.constant,le=(androme,androme.lib.util);class de extends androme.lib.extensions.Table{processNode(e,n){super.processNode(e,n);const o=e.data(se.EXT_NAME.TABLE,"mainData");let i="";if(o){if(o.columnCount>1){let t=!!e.data(se.EXT_NAME.TABLE,"expand");if(e.each(e=>{if("0px"===e.css("width"))e.android("layout_width","0px"),e.android("layout_columnWeight",""+(e.element.colSpan||1));else{const n=e.data(se.EXT_NAME.TABLE,"expand"),o=!!e.data(se.EXT_NAME.TABLE,"exceed"),i=!!e.data(se.EXT_NAME.TABLE,"downsized");if("boolean"==typeof n)if(n){const n=le.convertFloat(e.data(se.EXT_NAME.TABLE,"percent"))/100;n>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight",le.trimEnd(n.toFixed(3),"0")),t=!0)}else e.android("layout_columnWeight","0");i&&(o?(e.android("layout_width","0px"),e.android("layout_columnWeight","0.01")):(e.textElement&&!/[\s\n\-]/.test(e.textContent.trim())&&e.android("maxLines","1"),e.has("width")&&e.toInt("width")<e.bounds.width&&e.android("layout_width",le.formatPX(e.bounds.width))))}}),t&&!e.hasWidth){let t=0;e.ascend().some(e=>!!e.hasWidth&&(t=e.bounds.width,!0)),e.bounds.width>=t?e.android("layout_width","match_parent"):e.css("width",le.formatPX(e.bounds.width),!0)}}const a=new re(n,e,t.GRID,4,e.length,e.children);a.rowCount=o.rowCount,a.columnCount=o.columnCount,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(t,e){const n=le.convertInt(t.data(se.EXT_NAME.TABLE,"rowSpan")),o=le.convertInt(t.data(se.EXT_NAME.TABLE,"colSpan")),i=le.convertInt(t.data(se.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),o>1&&t.android("layout_columnSpan",""+o),t.mergeGravity("layout_gravity","fill"),i>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",i)),{output:""}}postProcedure(t){const e=le.convertInt(t.android("layout_width"));e>0&&(t.bounds.width>e&&t.android("layout_width",le.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.android("layout_width","0px"),t.android("layout_columnWeight","1")}))}}var ce=androme.lib.base.Layout,he=androme.lib.constant;androme;class ue extends androme.lib.extensions.VerticalAlign{processNode(e,n){super.processNode(e,n);let o="";if(e.data(he.EXT_NAME.VERTICAL_ALIGN,"mainData")){const i=new ce(n,e,t.RELATIVE,8,e.length,e.children);i.floated=i.getFloated(!0),o=this.application.renderNode(i)}return{output:o}}}class pe extends androme.lib.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var me=androme.lib.base.Layout,ge=androme.lib.enumeration,fe=androme.lib.util;class be extends androme.lib.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(e,n){e.exclude({procedure:ge.NODE_PROCEDURE.CONSTRAINT});const o=new me(n,e,t.CONSTRAINT,32,e.length,e.children);return{output:this.application.renderNode(o)}}afterConstraints(){const t=this.application.controllerHandler;for(const e of this.subscribers){const n=new Map;if(e.each(t=>{const o=[];fe.withinFraction(t.linear.left,e.box.left)&&o.push("left"),fe.withinFraction(t.linear.top,e.box.top)&&o.push("top"),n.set(t,o)}),this.options.circlePosition){const o=Array.from(n.values()).some(t=>2===t.length);let i;for(const[a,s]of n.entries())if(o){if(2===s.length){a.anchor("left","parent"),a.anchor("top","parent"),i=a;break}}else if(1===s.length){s.includes("left")?(a.anchor("left","parent"),t.addGuideline(a,e,r.VERTICAL),i=a):(a.anchor("top","parent"),t.addGuideline(a,e,r.HORIZONTAL),i=a);break}void 0===i&&(i=e.item(0),t.addGuideline(i,e)),e.each(t=>{if(i&&t!==i){const e=t.center,n=i.center,o=Math.abs(e.x-n.x),a=Math.abs(e.y-n.y),r=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(a,2)));let s=Math.round(Math.atan(Math.min(o,a)/Math.max(o,a))*(180/Math.PI));e.y>n.y?e.x>n.x?o>a?s+=90:s=180-s:o>a?s=270-s:s+=180:e.y<n.y?n.x>e.x?o>a?s+=270:s=360-s:o>a&&(s=90-s):s=e.x>n.x?90:270,t.app("layout_constraintCircle",i.documentId),t.app("layout_constraintCircleRadius",fe.formatPX(r)),t.app("layout_constraintCircleAngle",""+s)}})}else for(const[o,i]of n.entries())i.includes("left")&&o.anchor("left","parent"),i.includes("top")&&o.anchor("top","parent"),i.length<2&&t.addGuideline(o,e)}}}var ye=androme.lib.base.Layout,Ee=androme.lib.base.NodeList,Te=androme.lib.dom,we=androme.lib.enumeration,xe=androme.lib.util;function ve(t){return t.filter(e=>!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t))}function Re(t,e){return t.some(t=>t<e)}function Se(t,e,n){if(xe.isPercent(e)){const o=t.actualParent;if(o){const t=parseInt(e)-n/o.box.width*100;if(t>0)return xe.formatPercent(t)}}else if(xe.isUnit(e)){const t=parseInt(e)-n;if(t>0)return xe.formatPX(t)}return e}class Ae extends androme.lib.base.Extension{condition(t){const e=ve(t);if(e.length>0){const n=e.filter(t=>t.has("top")&&t.top>=0).map(t=>t.top),o=e.filter(t=>t.has("right")&&t.right>=0).map(t=>t.right),i=e.filter(t=>t.has("bottom")&&t.bottom>=0).map(t=>t.bottom),a=e.filter(t=>t.has("left")&&t.left>=0).map(t=>t.left);return Re(n,t.paddingTop+(t.documentBody?t.marginTop:0))||Re(o,t.paddingRight+(t.documentBody?t.marginRight:0))||Re(i,t.paddingBottom+(t.documentBody?t.marginBottom:0))||Re(a,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&o.length>0&&t.hasWidth}return!1}processNode(e,n){const o=this.application.createNode(Te.createElement(e.baseElement,e.block));o.inherit(e,"initial","base"),o.exclude({procedure:we.NODE_PROCEDURE.NONPOSITIONAL,resource:we.NODE_RESOURCE.BOX_STYLE|we.NODE_RESOURCE.ASSET});const[i,a]=xe.partition(ve(e),t=>t.absoluteParent===e);i.push(o);const r=[...xe.sortAsc(i,"zIndex","id"),...xe.sortAsc(a,"zIndex","id")];e.duplicate().forEach(t=>{r.includes(t)||(t.parent=o)}),o.parent=e,this.application.processing.cache.append(o),r.forEach((t,e)=>t.siblingIndex=e),e.sort(Ee.siblingIndex),e.resetBox(480|(e.documentBody?30:0),o,!0),e.companion=o;const s=new ye(n,e,t.CONSTRAINT,32,r.length,r);return{output:this.application.renderLayout(s)}}postBaseLayout(t){if(t.hasWidth&&t.companion){const e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(t=>t.has("right")))t.cssApply({width:"auto",minWidth:"auto"},!0),t.companion.cssApply({width:e,minWidth:n},!0),t.android("layout_width","match_parent");else{const o=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.cssApply({width:Se(t,e,o),minWidth:Se(t,n,o)},!0)}}}}var Ie=androme.lib.base.Layout;androme;class _e extends androme.lib.base.Extension{condition(t){return!t.textElement&&!t.imageElement&&!t.svgElement&&(t.has("maxWidth")||t.has("maxHeight"))}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);o.css("display","block",!0),e.has("maxWidth")&&(o.css("width",e.css("maxWidth"),!0),e.css("maxWidth","auto")),e.has("maxHeight")&&(o.css("height",e.css("maxHeight"),!0),e.css("maxHeight","auto"));const i=new Ie(n,o,t.FRAME,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(i)}}}var Ce=androme.lib.base.Layout,Ne=(androme,androme.lib.util);class Pe extends androme.lib.base.Extension{condition(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);o.android("layout_width","match_parent"),o.android("layout_height","wrap_content"),e.has("height",2)||e.css("height",Ne.formatPX(e.bounds.height),!0);const i=new Ce(n,o,t.CONSTRAINT,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(i)}}}var Le=androme.lib.base.NodeList,Oe=(androme,androme.lib.util),ke=androme.lib.xml;const De="RadioGroup";class Be extends androme.lib.base.Extension{condition(t){const e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&Oe.hasValue(e.name)}processNode(e,n){const i=Oe.hasValue(e.dataset.target)&&!Oe.hasValue(e.dataset.use),a=e.element,s=[];let l;const d=n.flatMap(t=>{t.renderAs&&(t.renderAs===e?l=t:s.push(t),t=t.renderAs);const n=t.element;return"radio"!==n.type||n.name!==a.name||t.rendered?null:t});if(d.length>1){const a=this.application.controllerHandler.createNodeGroup(e,d,n,l);a.alignmentType|=8|(n.length!==d.length?128:0),n.layoutConstraint&&(a.companion=l||e),a.setControlType(De,t.INLINE),a.inherit(e,"alignment"),a.css("verticalAlign","text-bottom"),a.each((n,i)=>{n!==e&&n.setControlType(o.RADIO,t.RADIO),n.positioned=!0,n.parent=a,n.siblingIndex=i}),s.forEach(t=>t.hide()),a.android("orientation",Le.linearX(d)?r.HORIZONTAL:r.VERTICAL),a.render(i?a:n),this.subscribers.add(a);const c=this.application.controllerHandler.getEnclosingTag(De,a.id,i?-1:a.renderDepth,ke.formatPlaceholder(a.id));return{output:"",complete:!0,parent:a,renderAs:a,outputAs:c}}return{output:""}}postBaseLayout(t){t.some(e=>!!e.element.checked&&(t.android("checkedButton",e.documentId),!0))}}var Me=androme.lib.dom,Xe=androme.lib.enumeration,Ge=androme.lib.util,He=androme.lib.xml;const ze="HorizontalScrollView",Fe="android.support.v4.widget.NestedScrollView";class Ve extends androme.lib.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(e,n){const o=Ge.hasValue(e.dataset.target)&&!Ge.hasValue(e.dataset.use),i=[];if(e.overflowX&&e.overflowY)i.push(ze,Fe);else if(e.overflowX)i.push(ze);else if(e.overflowY)i.push(Fe);else{let t=0;e.hasWidth&&(t|=8,i.push(ze)),e.hasHeight&&(t|=16,i.push(Fe)),e.overflow=t}const a=i.map((o,i)=>{const a=this.application.createNode(0===i?e.baseElement:Me.createElement(e.actualParent?e.actualParent.baseElement:null,e.block));return a.setControlType(o,t.BLOCK),0===i?(a.inherit(e,"initial","base","styleMap"),n.appendTry(e,a)):(a.inherit(e,"base"),a.exclude({resource:Xe.NODE_RESOURCE.BOX_STYLE})),a.exclude({resource:Xe.NODE_RESOURCE.ASSET}),a.resetBox(480),a});let r="";for(let t=0;t<a.length;t++){const i=a[t],s=a[t-1];switch(i.controlName){case Fe:{const t=e.css("height");e.android("layout_width","wrap_content"),i.android("layout_height",e.convertPX(t,!1)),i.cssApply({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break}case ze:{const t=e.css("width");i.android("layout_width",e.convertPX(t)),e.android("layout_height","wrap_content"),i.cssApply({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"});break}}i.unsetCache(),this.application.processing.cache.append(i),i.render(0===t?o?i:n:s);const l=this.application.controllerHandler.getEnclosingTag(i.controlName,i.id,o?0===t?-1:0:i.renderDepth,He.formatPlaceholder(i.id));r=0===t?l:He.replacePlaceholder(r,s.id,l)}2===a.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.overflowX?(e.android("layout_width","wrap_content"),e.android("layout_height","match_parent")):(e.android("layout_width","match_parent"),e.android("layout_height","wrap_content"));const s=a[a.length-1];return e.parent=s,n.layoutConstraint&&(s.companion=e),e.overflow=0,e.resetBox(30),e.exclude({resource:Xe.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:e.parent,renderAs:a[0],outputAs:r}}}var We='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:drawable="@drawable/{&vectorName}" />\n!3\n!4\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t</item>\n!4\n!5\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n!5\n!6\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t</item>\n!6\n!7\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n!stroke\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n!stroke\n!corners\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n!corners\n\t\t</shape>\n\t</item>\n!7\n</layer-list>';var $e='<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {~borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n!4\n</shape>';var Ue='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{&name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n!1\n\t<group android:name="{~name}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n!2\n!clipPaths\n\t\t<clip-path android:name="{~name}" android:pathData="{&d}" />\n!clipPaths\n\t\t<path android:name="{~name}" android:pathData="{&d}"\n\t\t\tandroid:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}"\n\t\t\tandroid:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}"\n\t\t\tandroid:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}">\n!fill\n\t\t\t<aapt:attr name="android:fillColor">\n!gradients\n\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n!colorStops\n\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n!colorStops\n\t\t\t\t</gradient>\n!gradients\n\t\t\t</aapt:attr>\n!fill\n\t\t</path>\n!2\n\t</group>\n!1\n</vector>',Ye=androme.lib.base.SvgPath,je=androme.lib.color,Ke=androme.lib.dom,Ze=androme.lib.enumeration,qe=androme.lib.util,Je=androme.lib.xml;function Qe(t,e=-1,n=!1){const o={solid:`android:color="@color/${t.color}"`,groove:"",ridge:""},i=t.style,a=parseInt(t.width),r=`${o.solid} android:dashWidth="${a}px" android:dashGap="${a}px"`;Object.assign(o,{double:o.solid,inset:o.solid,outset:o.solid,dashed:r,dotted:r});const s="groove"===i;if(a>1&&(s||"ridge"===i)){const a=je.parseColor(t.color);if(a){const t=je.reduceColor(a.valueAsRGBA,s||"#000000"===a.valueAsRGB?.5:-.5);if(t){const r=w.addColor(t);if(""!==r){const t=`android:color="@color/${r}"`;if(0!==e&&2!==e||(n=!n),"#000000"!==a.valueAsRGB||(!s||1!==e&&3!==e)&&(s||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:o[i]=t;break;case 1:case 2:o[i]=o.solid;break;case 3:o[i]=t}else switch(e){case 0:o[i]=o.solid;break;case 1:case 2:o[i]=t;break;case 3:o[i]=o.solid}}}}}return o[i]||o.solid}function tn(t,e,n=-1,o=!1,i=!1){switch(e){case"stroke":if(t.border&&w.isBorderVisible(t.border)){if(!o||i)return[{width:t.border.width,borderStyle:Qe(t.border,i?n:-1)}];if(o)return[{width:qe.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:Qe(t.border,n,!0)}]}return!1;case"backgroundColor":return!!qe.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){const e={};return t.borderRadius.forEach((t,n)=>e[`${["topLeft","topRight","bottomRight","bottomLeft"][n]}Radius`]=t),[e]}return!1}return!1}function en(t,e,n,o,i,a,r){const s=parseInt(t.width),l=Math.floor(s/3),d=2===s%3?1:0,c=l+d,h=l+d;let u=`${qe.formatPX(s-l)}`,p=`-${u}`;a[7].push({top:e?"":p,right:n?"":p,bottom:o?"":p,left:i?"":p,stroke:[{width:qe.formatPX(c),borderStyle:Qe(t)}],corners:r}),3===s&&(p=`-${u=`${qe.formatPX(s)}`}`),a[7].push({top:e?u:p,right:n?u:p,bottom:o?u:p,left:i?u:p,stroke:[{width:qe.formatPX(h),borderStyle:Qe(t)}],corners:r})}class nn extends androme.lib.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){this.application.processing.cache.duplicate().sort(t=>t.visible?0:-1).forEach(e=>{const n=e.data(w.KEY_NAME,"boxStyle");if(n&&!e.hasBit("excludeResource",Ze.NODE_RESOURCE.BOX_STYLE)){function o(t,e,n){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?`${"initial"===t?n:t} 0px`:`${n} ${t}`:t}n.backgroundColor=w.addColor(n.backgroundColor);const a=[],r=[],s=n.backgroundRepeat.split(",").map(t=>t.trim()),l=[],d=[],c=n.backgroundSize.split(",").map(t=>t.trim()),h=n.backgroundPositionX.split(",").map(t=>t.trim()),u=n.backgroundPositionY.split(",").map(t=>t.trim()),p=[];if(qe.isArray(n.backgroundImage)&&!e.hasBit("excludeResource",Ze.NODE_RESOURCE.IMAGE_SOURCE)){a.push(...n.backgroundImage);for(let t=0;t<a.length;t++)if(a[t]&&"none"!==a[t]){l.push(w.ASSETS.images.get(Ke.cssResolveUrl(a[t]))),a[t]=w.addImageUrl(a[t]);const e=h[t]||h[t-1],n=u[t]||u[t-1],i=o(e,n,"left"),r=o(n,e,"top");p[t]=`${"initial"===i?"0px":i} ${"initial"===r?"0px":r}`}else a[t]="",s[t]="",p[t]=""}else if(n.backgroundGradient){const t=w.createBackgroundGradient(e,n.backgroundGradient);t.length&&d.push(t[0])}const m=e.companion;if(m&&!m.visible&&m.htmlElement&&!Ke.cssFromParent(m.element,"backgroundColor")){const t=m.data(w.KEY_NAME,"boxStyle"),e=w.addColor(t.backgroundColor);""!==e&&(n.backgroundColor=e)}const g=w.isBorderVisible(n.borderTop)||w.isBorderVisible(n.borderRight)||w.isBorderVisible(n.borderBottom)||w.isBorderVisible(n.borderLeft)||n.borderRadius,f=a.filter(t=>t).length;if(g||f||d.length){const o=[n.borderTop,n.borderRight,n.borderBottom,n.borderLeft],h=[],u=[];o.forEach((t,e)=>{u[e]=w.isBorderVisible(t),u[e]&&(t.color=w.addColor(t.color),h.push(t))});const m=[],b=[];let y,E="";for(let n=0;n<a.length;n++)if(""!==a[n]){const o=Ke.getBackgroundPosition(p[n],e.bounds,e.fontSize),i=l[n];let r=(()=>"center"===o.horizontal&&"center"===o.vertical?"center":`${"center"===o.horizontal?"center_horizontal":o.horizontal}|${"center"===o.vertical?"center_vertical":o.vertical}`)(),d="",h="",u="",y="",E="";const T=!i||i.width<e.bounds.width||i.height<e.bounds.height;switch(s[n]){case"repeat-x":T&&(y="repeat");break;case"repeat-y":T&&(E="repeat");break;case"no-repeat":u="disabled";break;case"repeat":T&&(u="repeat")}if(""!==r&&i&&i.width>0&&i.height>0&&0===e.renderChildren.length){if("repeat"===E){let t=0;if(i.width<(t=e.hasWidth?e.width+e.paddingLeft+e.paddingRight:e.bounds.width-(e.borderLeftWidth+e.borderRightWidth))){const n=qe.convertInt(e.android("layout_width"));-1!==r.indexOf("left")?(o.right=t-i.width,e.hasWidth&&t>n&&e.android("layout_width",qe.formatPX(e.bounds.width))):-1!==r.indexOf("right")?(o.left=t-i.width,e.hasWidth&&t>n&&e.android("layout_width",qe.formatPX(e.bounds.width))):"center"!==r&&-1===r.indexOf("center_horizontal")||(o.left=Math.floor((t-i.width)/2),d=qe.formatPX(i.width),e.hasWidth&&t>n&&e.android("layout_width",qe.formatPX(e.bounds.width)))}}if("repeat"===y){let t=0;if(i.height<(t=e.hasHeight?e.height+e.paddingTop+e.paddingBottom:e.bounds.height-(e.borderTopWidth+e.borderBottomWidth))){const n=qe.convertInt(e.android("layout_height"));-1!==r.indexOf("top")?(o.bottom=t-i.height,!e.hasHeight&&t>n&&e.android("layout_height",qe.formatPX(e.bounds.height))):-1!==r.indexOf("bottom")?(o.top=t-i.height,!e.hasHeight&&t>n&&e.android("layout_height",qe.formatPX(e.bounds.height))):"center"!==r&&-1===r.indexOf("center_vertical")||(o.top=Math.floor((t-i.height)/2),h=qe.formatPX(i.height),!e.hasHeight&&t>n&&e.android("layout_height",qe.formatPX(e.bounds.height)))}}}if(f)if(e.of(t.IMAGE,2048)&&1===p.length){e.android("src",`@drawable/${a[0]}`),o.left>0&&e.modifyBox(16,o.left),o.top>0&&e.modifyBox(2,o.top);let t="";switch(r){case"left|top":case"left|center_vertical":case"left|bottom":t="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":t="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":t="center"}if(e.android("scaleType",t),!g)return;a.length=0}else{const t={top:0!==o.top?qe.formatPX(o.top):"",right:0!==o.right?qe.formatPX(o.right):"",bottom:0!==o.bottom?qe.formatPX(o.bottom):"",left:0!==o.left?qe.formatPX(o.left):"",gravity:r,tileMode:u,tileModeX:y,tileModeY:E,width:d,height:h,src:a[n]};if("auto"!==c[n]&&"auto auto"!==c[n]&&"initial"!==c[n])switch(c[n]){case"cover":case"contain":case"100% 100%":d="",h="",u="",y="",E="",r="";break;default:const o=c[n].split(" ");"100%"===o[0]?y="":"100%"===o[1]&&(E=""),o.forEach((o,i)=>{"auto"!==o&&"100%"!==o&&(t[0===i?"width":"height"]=e.convertPX(c[n],0===i,!1))})}""!==r||""!==u||""!==y||""!==E?b.push(t):m.push(t)}}b.sort((t,e)=>"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===e.tileMode?1:"repeat"===e.tileModeX||"repeat"===e.tileModeY?1:-1);const T=tn(n,"backgroundColor"),x=tn(n,"radius"),v=d.some(t=>t.colorStops.length>0);if(v){const t=e.bounds.width,n=e.bounds.height,o=Je.createTemplate(Je.parseTemplate(Ue),{namespace:M("aapt"),width:qe.formatPX(t),height:qe.formatPX(n),viewportWidth:""+t,viewportHeight:""+n,alpha:"",1:[{2:[{clipPaths:!1,d:Ye.getRect(t,n),fill:[{gradients:d}]}]}]});let i=w.getStoredName("drawables",o);""===i&&(i=`${e.tagName.toLowerCase()}_${e.controlId}_gradient`,w.STORED.drawables.set(i,o)),r.push({vectorName:i})}let R;if(n.border&&!("double"===n.border.style&&parseInt(n.border.width)>2||("groove"===n.border.style||"ridge"===n.border.style)&&parseInt(n.border.width)>1))!f&&d.length<=1&&!v?(x&&void 0===x[0].radius&&(x[0].radius="1px"),R=Je.parseTemplate($e),y={1:tn(n,"stroke"),2:T,3:x,4:!!d.length&&d}):(R=Je.parseTemplate(We),y={1:T,2:!(v||!d.length)&&d,3:r,4:!1,5:!!m.length&&m,6:!!b.length&&b,7:!(!w.isBorderVisible(n.border)&&!x)&&[{stroke:tn(n,"stroke"),corners:x}]});else{R=Je.parseTemplate(We),y={1:T,2:!(v||!d.length)&&d,3:r,4:!1,5:!!m.length&&m,6:!!b.length&&b,7:[]};const t=new Set(h.map(t=>t.width)),e=new Set(h.map(t=>Qe(t))),n=h[0],a=u[1]&&u[2];function i(t){return t+(a?0:1===t?1:2)}if(1===t.size&&1===e.size&&"groove"!==n.style&&"ridge"!==n.style){const t=parseInt(n.width);if(t>2&&"double"===n.style)en(n,...u,y,x);else{const e=`-${qe.formatPX(i(t))}`,o=!u[0]&&!u[3],a=!u[0]&&u[1]&&u[2]&&u[3],r=u[0]&&u[1]&&u[2]&&!u[3];y[7].push({top:u[0]?"":e,right:u[1]?u[3]||o||r?"":n.width:e,bottom:u[2]?u[0]||o||a?"":n.width:e,left:u[3]?"":e,stroke:tn({border:n},"stroke"),corners:x})}}else for(let t=0;t<o.length;t++)if(u[t]){const e=o[t],n=parseInt(e.width);if(n>2&&"double"===e.style)en(e,0===t,1===t,2===t,3===t,y,x);else{const o=n>1&&("groove"===e.style||"ridge"===e.style),r=i(o?Math.ceil(n/2):n);let s=`-${qe.formatPX(r)}`,l=`-${qe.formatPX(r+(a?1:0))}`;y[7].push({top:0===t?"":l,right:1===t?a||"1px"!==e.width?"":e.width:s,bottom:2===t?a||"1px"!==e.width?"":e.width:s,left:3===t?"":s,stroke:tn({border:e},"stroke",t,o),corners:x}),o&&(s=`-${qe.formatPX(i(n))}`,l=`-${qe.formatPX(n+(a?1:0))}`,y[7].unshift({top:0===t?"":l,right:1===t?a||"1px"!==e.width?"":e.width:s,bottom:2===t?a||"1px"!==e.width?"":e.width:s,left:3===t?"":s,stroke:tn({border:e},"stroke",t,!0,!0),corners:!1}))}}}if(R){const t=Je.createTemplate(R,y);""===(E=w.getStoredName("drawables",t))&&(E=`${e.tagName.toLowerCase()}_${e.controlId}`,w.STORED.drawables.set(E,t))}if(e.android("background",`@drawable/${E}`,!1),f&&(e.data("RESOURCE","backgroundImage",!0),this.options.autoSizeBackgroundImage&&!e.documentRoot&&!e.imageElement&&!e.svgElement&&e.renderParent&&!e.renderParent.tableElement&&!e.hasBit("excludeProcedure",Ze.NODE_PROCEDURE.AUTOFIT))){const n={width:0,height:0};if(l.forEach(t=>{t&&(n.width=Math.max(n.width,t.width),n.height=Math.max(n.height,t.height))}),0===n.width){let t=e;for(;t&&!t.documentBody&&(t.hasWidth&&(n.width=t.bounds.width),t.hasHeight&&(n.height=t.bounds.height),t.pageFlow&&!(n.width>0&&n.height>0));)t=t.documentParent}if(!e.has("width",2)){const o=e.bounds.width+(e.is(t.LINE)?0:e.borderLeftWidth+e.borderRightWidth);(0===n.width||o>0&&o<n.width)&&e.css("width",qe.formatPX(o),!0)}if(!e.has("height",2)){const o=e.bounds.height+(e.is(t.LINE)?0:e.borderTopWidth+e.borderBottomWidth);(0===n.height||o>0&&o<n.height)&&(e.css("height",qe.formatPX(o),!0),e.marginTop<0&&e.modifyBox(2,null),e.marginBottom<0&&e.modifyBox(8,null))}}}else!e.data(w.KEY_NAME,"fontStyle")&&qe.hasValue(n.backgroundColor)&&e.android("background",`@color/${n.backgroundColor}`,!1)}})}}var on=androme.lib.util;function an(t,e,n){for(const[o,i]of t.entries())if(o.startsWith(e)&&n===i)return o;return t.has(e)&&t.get(e)!==n?w.generateId("dimen",e,1):e}function rn(t){return on.convertUnderscore(t).replace("layout_","")}function sn(t){return on.lastIndexOf(t,".")}class ln extends androme.lib.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache.visible){const n=e.tagName.toLowerCase();void 0===t[n]&&(t[n]={}),["android","app"].forEach(o=>{const i=e.namespace(o);for(const a in i){const r=i[a].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(r)){const i=`${o},${a},${r}`;void 0===t[n][i]&&(t[n][i]=[]),t[n][i].push(e)}}})}const e=w.STORED.dimens;for(const n in t){const o=t[n];for(const t in o){const[i,a,r]=t.split(","),s=an(e,`${sn(n)}_${rn(a)}`,r);o[t].forEach(t=>t[i](a,`@dimen/${s}`)),e.set(s,r)}}}afterFinalize(){const t=w.STORED.dimens;for(const e of this.application.viewData){const n=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/;let o,i=e.content;for(;null!==(o=n.exec(i));){const e=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(o[0]);if(e){const n=an(t,`${sn(e[1]).toLowerCase()}_${rn(o[2])}`,o[3]);t.set(n,o[3]),i=i.replace(o[0],o[0].replace(o[3],`@dimen/${n}`))}}e.content=i}}}var dn=androme.lib.dom,cn=androme.lib.enumeration,hn=androme.lib.util;const un={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},pn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},mn={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"};dn.isUserAgent(8)&&(mn.consolas="monospace");const gn={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},fn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};function bn(t,e,n){e.split(";").forEach(e=>{for(let o=0;o<t.length;o++)if(t[o]){let i=-1,a="";for(const n in t[o])if(n===e){i=o,a=n,o=t.length;break}if(-1!==i){t[i][a]=t[i][a].filter(t=>!n.includes(t)),0===t[i][a].length&&delete t[i][a];break}}})}class yn extends androme.lib.base.Extension{constructor(){super(...arguments),this.options={fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t=this.application.userSettings,e={},n={};for(const t of this.application.session.cache)t.visible&&t.data(w.KEY_NAME,"fontStyle")&&!t.hasBit("excludeResource",cn.NODE_RESOURCE.FONT_STYLE)&&(void 0===e[t.tagName]&&(e[t.tagName]=[]),e[t.tagName].push(t));for(const t in e){const o=[];for(let n of e[t]){const t=n.id,e=n.companion;e&&!e.visible&&"LABEL"===e.tagName&&(n=e);const i=Object.assign({},n.data(w.KEY_NAME,"fontStyle"));let a=!1;if(i.backgroundColor=w.addColor(i.backgroundColor),i.fontFamily){let t=i.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),e="",o="";if(i.color=w.addColor(i.color),this.options.fontResourceValue&&mn[t]&&(t=mn[t]),un[t]&&n.localSettings.targetAPI>=un[t]||this.options.fontResourceValue&&pn[t]&&n.localSettings.targetAPI>=un[pn[t]]?(a=!0,i.fontFamily=t,"normal"===i.fontStyle&&delete i.fontStyle,"400"===i.fontWeight&&delete i.fontWeight):(t=hn.convertWord(t),i.fontFamily=`@font/${t+("normal"!==i.fontStyle?`_${i.fontStyle}`:"")+("400"!==i.fontWeight?`_${gn[i.fontWeight]||i.fontWeight}`:"")}`,e=i.fontStyle,o=i.fontWeight,delete i.fontStyle,delete i.fontWeight),!a){const n=w.STORED.fonts.get(t)||{};n[`${e}-${gn[o]||o}`]=!0,w.STORED.fonts.set(t,n)}}const r=Object.keys(fn);for(let e=0;e<r.length;e++){void 0===o[e]&&(o[e]={});const a=i[r[e]];if(hn.hasValue(a)&&n.supported("android",r[e])){const n=hn.formatString(fn[r[e]],a);void 0===o[e][n]&&(o[e][n]=[]),o[e][n].push(t)}}}n[t]=o}const o={},i={};for(const t in n){o[t]={},i[t]={};const a=e[t].length;let r=n[t].filter(t=>Object.keys(t).length).sort((t,e)=>{let n=0,o=0,i=0,a=0;for(const e in t)n=Math.max(t[e].length,n),i+=t[e].length;for(const t in e)e[t]&&(o=Math.max(e[t].length,o),a+=e[t].length);return n!==o?n>o?-1:1:i!==a?i>a?-1:1:0});do{if(1===r.length){for(const e in r[0]){const n=r[0][e];1===n.length?i[t][e]=n:n.length>1&&(o[t][e]=n)}r.length=0}else{const e={},n={};for(let i=0;i<r.length;i++){if(!r[i])continue;const s={},l={},d=new Set;for(const t in r[i]){const o=r[i][t];let l=!1;if(o&&0!==o.length&&(o.length===a?(e[t]=o.slice(0),r[i]={},l=!0):1===o.length&&(n[t]=o.slice(0),r[i][t]=[],l=!0),!l)){const e={};let n=!1;for(let t=0;t<r.length;t++)if(i!==t&&r[t])for(const n in r[t]){const i=r[t][n];if(i.length)for(const t of o)i.includes(t)&&(void 0===e[n]&&(e[n]=[]),e[n].push(t))}for(const o in e)e[o].length>1&&(s[[t,o].sort().join(";")]=e[o],n=!0);n||(s[t]=o)}}for(const t in s)for(const e in s)if(t!==e&&s[t].join("")===s[e].join("")){const n=s[t].join(",");l[n]=l[n]?new Set([...l[n],...e.split(";")]):new Set([...t.split(";"),...e.split(";")]),d.add(t).add(e)}d.forEach(t=>delete s[t]);for(const e in s)bn(r,e,s[e]),o[t][e]=s[e];for(const e in l){const n=Array.from(l[e]).sort().join(";"),i=e.split(",").map(t=>parseInt(t));bn(r,n,i),o[t][n]=i}}const s=Object.keys(e);s.length&&(s.length>1||e[s[0]].length>1?o[t][s.join(";")]=e[s[0]]:Object.assign(n,e));for(const e in n)i[t][e]=n[e];for(let t=0;t<r.length;t++)r[t]&&0===Object.keys(r[t]).length&&delete r[t];r=r.filter(t=>{if(t)for(const e in t)if(t[e]&&t[e].length)return!0;return!1})}}while(r.length)}const a={},r={},s=new Set;for(const t in o){const e=o[t],n=[];for(const t in e)n.push({name:"",attrs:t,ids:e[t]});n.sort((t,e)=>{let[n,o]=[t.ids.length,e.ids.length];return n===o&&([n,o]=[t.attrs.split(";").length,e.attrs.split(";").length]),n<=o?1:-1}),n.forEach((e,n)=>e.name=hn.capitalize(t)+(n>0?`_${n}`:"")),a[t]=n}for(const t in a){for(const e of a[t])for(const t of e.ids)void 0===r[t]&&(r[t]={styles:[],attrs:[]}),r[t].styles.push(e.name);const e=i[t];if(e)for(const t in e)for(const n of e[t])void 0===r[n]&&(r[n]={styles:[],attrs:[]}),r[n].attrs.push(t)}for(const e in r){const n=this.application.session.cache.find("id",parseInt(e));if(n){const o=r[e].styles;o.length&&(s.add(o.join(".")),n.attr("_","style",`@style/${o.pop()}`)),r[e].attrs.sort().forEach(e=>n.formatted(O(e,t.resolutionDPI,t.convertPixels,!0),!1))}}for(const t of s){let e="";t.split(".").forEach(t=>{const n=t.match(/^(\w*?)(?:_(\d+))?$/);if(n){const o=Object.assign({name:t,parent:e},a[n[1].toUpperCase()][void 0===n[2]?0:parseInt(n[2])]);w.STORED.styles.set(t,o),e=t}})}}}var En=androme.lib.util,Tn=androme.lib.xml;class wn extends androme.lib.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterDepthLevel(){const t=this.application.processing;for(const e of t.cache){const n=[],o=[];if(e.renderEach((t,e)=>{const i=En.hasValue(t.dataset.androidInclude),a="true"===t.dataset.androidIncludeEnd;if(i||a){const r="true"===t.dataset.androidIncludeMerge,s={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:r};i&&n.push(s),a&&o.push(s)}}),n.length&&o.length){n.length=Math.min(n.length,o.length);for(let t=n.length;t<o.length;t++)o.shift();for(let i=n.length-1;i>=0;i--){const a=n[i];for(let n=0;n<o.length;n++){const i=o[n];if(i.index>=a.index){const r=new Map;let s=!0;for(let n=a.index;n<=i.index;n++){const o=e.renderChildren[n],i=t.depthMap.get(e.id);if(i&&i.has(o.renderPositionId)){const t=r.get(e.id)||[];t.push(o),r.set(e.id,t)}else s=!1}if(s){const e=new Map,n=[];let o=0;for(const[i,s]of t.depthMap.entries()){const t=r.get(i);if(t){const i=[];for(const[r,l]of s.entries()){const d=t.find(t=>t.renderPositionId===r);if(d){if(0===o){const t=this.application.controllerHandler.renderNodeStatic("include",d.renderDepth,{layout:`@layout/${a.name}`});s.set(r,t),o++}else i.push(r);e.set(r,l),n.push(d)}}i.forEach(t=>s.delete(t))}}if(e.size){const t=this.application.controllerHandler,o=a.merge||e.size>1,i=o?1:0;for(const o of n)if(o.renderDepth!==i){const n=o.renderPositionId,a=e.get(n);a&&e.set(n,t.replaceIndent(a,i,t.cache.children))}let r=Array.from(e.values()).join("");if(o)r=t.getEnclosingTag("merge",0,0,r);else if(!a.item.documentRoot){const t=Tn.formatPlaceholder(a.item.id,"@");r=r.replace(t,`{#0}${t}`)}this.application.addIncludeFile(a.name,r)}}o.splice(n,1);break}}}}}}}var xn=androme.lib.dom,vn=androme.lib.enumeration,Rn=androme.lib.util,Sn=androme.lib.xml;class An extends androme.lib.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(!t.hasBit("excludeResource",vn.NODE_RESOURCE.VALUE_STRING))if(t.baseElement instanceof HTMLSelectElement){const[e,n]=w.getOptionArray(t.baseElement),o=[];if(!this.options.numberResourceValue&&n&&n.length?o.push(...n):o.push(...Rn.flatMap(e||n||[],t=>""!==(t=w.addString(Sn.replaceCharacter(t),"",this.options.numberResourceValue))?`@string/${t}`:"")),o.length){const e=o.join("-");let n="";for(const[t,o]of w.STORED.arrays.entries())if(e===o.join("-")){n=t;break}""===n&&w.STORED.arrays.set(n=`${t.controlId}_array`,o),t.android("entries",`@array/${n}`,!1)}}else{const e=t.data(w.KEY_NAME,"valueString");if(e){const n=t.renderParent;if(n&&n.layoutRelative&&t.alignParent("left")&&!xn.cssParent(t.element,"whiteSpace","pre","pre-wrap")){const n=t.textContent;let o=0;for(let t=0;t<n.length;t++)switch(n.charCodeAt(t)){case 160:o++;case 32:continue}0===o&&(e.value=e.value.replace(/^(\s|&#160;)+/,""))}e.value=Sn.replaceCharacter(e.value),t.htmlElement&&"small-caps"===t.css("fontVariant")&&(e.value=e.value.toUpperCase());const o=t.actualParent;if(o){let n=0;(o.blockDimension||t.blockDimension)&&(n=t.toInt("textIndent")||o.toInt("textIndent")),0===n||!t.blockDimension&&o.firstChild!==t||(n>0?e.value="&#160;".repeat(Math.floor(n/7))+e.value:t.toInt("textIndent")+t.bounds.width<0&&(e.value=""))}const i=w.addString(e.value,e.name,this.options.numberResourceValue);""!==i&&t.android("text",isNaN(parseInt(i))||""+parseInt(i)!==i?`@string/${i}`:i,!1)}}}}var In=androme.lib.util;class _n extends androme.lib.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache.visible){const n=e.renderChildren;if(e.controlId&&n.length>1){const o=new Map;let i="",a=!0;for(let t=0;t<n.length;t++){let e=!1;if(n[t].combine("_","android").some(n=>{if(n.startsWith("style=")){if(0===t)i=n;else if(""===i||n!==i)return a=!1,!0;e=!0}else o.set(n,(o.get(n)||0)+1);return!1}),!a||""!==i&&!e){a=!1;break}}if(a){for(const[t,e]of o.entries())e!==n.length&&o.delete(t);if(o.size>1){""!==i&&(i=In.trimString(i.substring(i.indexOf("/")+1),'"'));const a=[];for(const t of o.keys()){const e=t.match(/(\w+):(\w+)="(.*?)"/);e&&(n.forEach(t=>t.delete(e[1],e[2])),a.push(e[0]))}a.sort();let r="";for(const e in t)if(t[e].join(";")===a.join(";")){r=e;break}""!==r&&""!==i&&r.startsWith(`${i}.`)||(t[r=In.convertCamelCase((""!==i?`${i}.`:"")+In.capitalize(e.controlId),"_")]=a),n.forEach(t=>t.attr("_","style",`@style/${r}`))}}}}for(const e in t)w.STORED.styles.set(e,{name:e,attrs:t[e].join(";"),ids:[]})}}var Cn='<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" xmlns:aapt="http://schemas.android.com/aapt" android:drawable="@drawable/{&vectorName}">\n!1\n\t<target android:name="{&name}">\n\t\t<aapt:attr name="android:animation">\n\t\t\t<set android:ordering="{~ordering}">\n!objectAnimators\n\t\t\t\t<objectAnimator\n\t\t\t\t\tandroid:propertyName="{~propertyName}"\n\t\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\t\tandroid:valueTo="{~valueTo}"\n\t\t\t\t\tandroid:duration="{&duration}"\n\t\t\t\t\tandroid:repeatCount="{&repeatCount}"\n\t\t\t\t\tandroid:repeatMode="{~repeatMode}"\n\t\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\t\tandroid:fillAfter="{~fillAfter}"\n\t\t\t\t\tandroid:fillBefore="{~fillBefore}"\n\t\t\t\t\tandroid:fillEnabled="{~fillEnabled}">\n!propertyValues\n\t\t\t\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n!keyframes\n\t\t\t\t\t\t<keyframe android:fraction="{~fraction}" android:valueType="{~valueType}" android:value="{~value}" />\n!keyframes\n\t\t\t\t\t</propertyValuesHolder>\n!propertyValues\n\t\t\t\t</objectAnimator>\n!objectAnimators\n\t\t\t</set>\n\t\t</aapt:attr>\n\t</target>\n!1\n</animated-vector>',Nn=androme.lib.base.Svg,Pn=androme.lib.base.SvgAnimate,Ln=androme.lib.base.SvgAnimateMotion,On=androme.lib.base.SvgAnimateTransform,kn=androme.lib.base.SvgBuild,Dn=androme.lib.base.SvgGroupViewBox,Bn=androme.lib.base.SvgImage,Mn=androme.lib.base.SvgPath,Xn=androme.lib.base.SvgUse,Gn=androme.lib.color,Hn=androme.lib.dom,zn=androme.lib.svg,Fn=androme.lib.util,Vn=androme.lib.xml;const Wn={ACCELERATE_DECELERATE:"@android:anim/accelerate_decelerate_interpolator",ACCELERATE:"@android:anim/accelerate_interpolator",ANTICIPATE:"@android:anim/anticipate_interpolator",ANTICIPATE_OVERSHOOT:"@android:anim/anticipate_overshoot_interpolator",BOUNCE:"@android:anim/bounce_interpolator",CYCLE:"@android:anim/cycle_interpolator",DECELERATE:"@android:anim/decelerate_interpolator",LINEAR:"@android:anim/linear_interpolator",OVERSHOOT:"@android:anim/overshoot_interpolator"},$n={stroke:"strokeColor",fill:"fillColor",opacity:"alpha","stroke-opacity":"strokeAlpha","fill-opacity":"fillAlpha","stroke-width":"strokeWidth",d:"pathData"};function Un(t,e){let n=t.parentElement,o=0,i=0;for(;n instanceof SVGSVGElement&&n!==e;){const t=zn.createTransformData(n);o+=n.x.baseVal.value+t.translateX,i+=n.y.baseVal.value+t.translateY,n=n.parentElement}return{x:o,y:i}}class Yn extends androme.lib.base.Extension{constructor(){super(...arguments),this.options={vectorAnimateOrdering:"together",vectorAnimateInterpolator:Wn.LINEAR,vectorAnimateAlwaysUseKeyframes:!0},this.eventOnly=!0}beforeInit(){this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}afterResources(){for(const o of this.application.processing.cache)if(o.svgElement){const i=new Nn(o.element),a=new Set,r=new Map,s=`${o.tagName.toLowerCase()}_${o.controlId}`,l=[];let d="",c="";function t(t,e,n,o=""){const i=e.animate.filter(n);i.length&&r.set(t,{element:e.element,animate:i,pathData:o})}function e(e,n=[]){const o=`group_${e.name}`,i={name:o,2:[]};let a=e instanceof Dn?e.x:0,r=e instanceof Dn?e.y:0;if(e.transformable){const t=zn.createTransformData(e.element);if(t.operations.length){a+=t.translateX,r+=t.translateY,1!==t.scaleX&&(i.scaleX=""+t.scaleX),1!==t.scaleY&&(i.scaleY=""+t.scaleY),0!==t.rotateAngle&&(i.rotation=""+t.rotateAngle);let e=t.rotateOriginX||0,n=t.rotateOriginY||0;t.origin&&(e+=t.origin.x,n+=t.origin.y),0!==e&&(i.pivotX=""+e),0!==n&&(i.pivotY=""+n)}}return 0!==a&&(i.translateX=""+a),0!==r&&(i.translateY=""+r),t(o,e,t=>t instanceof On||n.includes(t.attributeName),e instanceof Xn&&e.path?e.path.d:""),i}function n(e,n,r=[]){const s=e.name,l=[];if(""!==n.clipPath){const e=i.defs.clipPath.get(n.clipPath);e&&e.each(e=>{e.path&&(l.push({name:e.name,d:e.path.d}),t(e.name,e,t=>!(t instanceof On||t instanceof Ln),e.path.d))})}const d=Object.assign({},n,{name:s,clipPaths:l});if(["fill","stroke"].forEach(t=>{if(Fn.isString(d[t])){if("@"===d[t].charAt(0)){const n=i.defs.gradient.get(d[t]);if(n)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(d.d))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":const i=w.createBackgroundGradient(o,[n],d);return d[t]=[{gradients:i}],void a.add("aapt")}else d[t]=d.color}const n=w.addColor(d[t]);""!==n&&(d[t]=`@color/${n}`)}}),d.fillRule)switch(d.fillRule){case"evenodd":d.fillRule="evenOdd";break;default:d.fillRule="nonZero"}return t(s,e,t=>!(t instanceof On||t instanceof Ln||r.includes(t.attributeName)),d.d),d}if(i.length){t(i.name,i,t=>"opacity"===t.attributeName);let d,h=[];for(let t=0;t<i.children.length;t++){const o=i.children[t];if(t>0&&(d=e(o,o instanceof Dn?["x","y"]:[])),o instanceof Xn)d&&o.path&&d[2].push(n(o,o.path,["x","y","width","height"]));else for(const i of o.children)if(i instanceof Bn)i.setExternal(),l.push(i);else if(i.visible&&i.path){let a=!1;0===t&&((i.transformable&&!i.path.transformed||i.animate.some(t=>t instanceof On))&&(d=e(i),h.push(d),a=!0),void 0===d&&(d=e(o),h.push(d))),d&&d[2].push(n(i,i.path)),a&&(d=void 0)}t>0&&d&&h.push(d)}if((h=h.filter(t=>t[2].length>0)).length){let t=Vn.createTemplate(Vn.parseTemplate(Ue),{namespace:a.size?M(...Array.from(a)):"",name:i.name,width:Fn.formatPX(i.width),height:Fn.formatPX(i.height),viewportWidth:i.viewBoxWidth>0&&""+i.viewBoxWidth,viewportHeight:i.viewBoxHeight>0&&""+i.viewBoxHeight,alpha:i.opacity<1&&""+i.opacity,1:h});if(""===(c=w.getStoredName("drawables",t))&&w.STORED.drawables.set(c=s+(l.length?"_vector":""),t),r.size){const e={vectorName:c,1:[]};for(const[t,n]of r.entries()){const i={name:t,ordering:Hn.getDataSet(n.element,"android").ordering||this.options.vectorAnimateOrdering,objectAnimators:[]},a=new Map;for(const t of n.animate){let e,r,s,l=0;t instanceof Pn?-1!==t.duration?(s=t.duration,void 0!==t.repeatCount&&void 0!==t.repeatDur?l=-1===t.repeatCount&&-1===t.repeatDur?-1:-1!==t.repeatCount&&-1!==t.repeatDur?(t.repeatCount+1)*s<=t.repeatDuration?t.repeatCount:Math.round(t.repeatDuration/s):-1!==t.repeatDur?Math.round(t.repeatDuration/s):t.repeatCount:void 0!==t.repeatDur?l=Math.round(t.repeatDuration/s):void 0!==t.repeatCount&&(l=t.repeatCount)):void 0!==t.repeatDur&&(s=t.repeatDuration):s=t.duration;const d={startOffset:-1!==t.begin?""+t.begin:"",duration:void 0!==s?""+s:"",repeatCount:""+l},c=Hn.getDataSet(t.element,"android");if(t instanceof On){let n="true"===c.fillbefore||"true"===c.fillBefore,o="true"===c.fillafter||"true"===c.fillAfter;if(n&&o){const t=!("false"===c.fillenabled||"false"===c.fillEnabled);n=t,o=!t}switch(n&&(d.fillBefore="true"),o&&(d.fillAfter="true"),t.attributeName){case"transform":switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:r=On.toRotateList(t.values),e=["rotation","pivotX","pivotY"];break;case SVGTransform.SVG_TRANSFORM_SCALE:r=On.toScaleList(t.values),e=["scaleX","scaleY"];break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:r=On.toTranslateList(t.values),e=["translateX","translateY"]}d.valueType="floatType"}}else{switch(t.attributeName){case"stroke":case"fill":break;case"opacity":case"stroke-opacity":case"fill-opacity":d.valueType="floatType";break;case"stroke-width":d.valueType="intType";break;case"d":case"x":if(t.parentElement instanceof SVGUseElement||t.parentElement instanceof SVGSVGElement){e=["translateX"],d.valueType="floatType";break}case"x1":case"x2":case"cx":case"y":if(t.parentElement instanceof SVGUseElement||t.parentElement instanceof SVGSVGElement){e=["translateX"],d.valueType="floatType";break}case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":d.valueType="pathType";break;default:continue}if(t instanceof Pn){const s=$n[t.attributeName];switch(d.valueType){case"intType":r=t.values.map(t=>""+Fn.convertInt(t)),s&&(e=[s]);case"floatType":r=t.values.map(t=>""+Fn.convertFloat(t)),s&&(e=[s]);break;case"pathType":if(n.pathData)t:{if(r=t.values.slice(0),"points"===t.attributeName)for(let e=0;e<r.length;e++){const n=r[e];if(""!==n){const o=kn.fromCoordinateList(kn.toCoordinateList(n));if(!o.length)break t;r[e]="polygon"===t.parentElement.tagName?Mn.getPolygon(o):Mn.getPolyline(o)}}else if("d"!==t.attributeName)for(let e=0;e<r.length;e++){const o=r[e];if(""!==o){const i=kn.toPathCommandList(n.pathData);if(i.length<=1)break t;let a,s,l,d,c,h;switch(t.attributeName){case"x":case"x1":case"x2":case"cx":if(isNaN(a=parseFloat(o)))break t;break;case"y":case"y1":case"y2":case"cy":if(isNaN(s=parseFloat(o)))break t;break;case"r":if(isNaN(l=parseFloat(o)))break t;d=l;break;case"rx":if(isNaN(l=parseFloat(o)))break t;break;case"ry":if(isNaN(d=parseFloat(o)))break t;case"width":if(isNaN(c=parseFloat(o))||c<0)break t;break;case"height":if(isNaN(h=parseFloat(o))||h<0)break t}if(void 0!==a||void 0!==s){const e=i[0],n=i[i.length-1],[o,r]=[e.points[0],n.points[n.points.length-1]];let l=!1;if(void 0!==a)switch(t.attributeName){case"x":a-=o.x,l=!0;break;case"x1":case"cx":o.x=a,e.coordinates[0]=a;break;case"x2":r.x=a,n.coordinates[0]=a}if(void 0!==s)switch(t.attributeName){case"y":s-=o.y,l=!0;break;case"y1":case"cy":o.y=s,e.coordinates[1]=s;break;case"y2":r.y=s,n.coordinates[1]=s}if(l)for(const t of i)if(!t.relative)for(let e=0,n=0;e<t.coordinates.length;e+=2,n++){const o=t.points[n];void 0!==a&&(t.coordinates[e]+=a,o.x+=a),void 0!==s&&(t.coordinates[e+1]+=s,o.y+=s)}}else if(void 0!==l||void 0!==d)for(const t of i)"A"===t.command.toUpperCase()&&(void 0!==l&&(t.radiusX=l,t.coordinates[0]=2*l*(t.coordinates[0]<0?-1:1)),void 0!==d&&(t.radiusY=d));else{if(void 0===c&&void 0===h){r[e]=r[e-1]||n.pathData;continue}for(const t of i)switch(t.command){case"h":void 0!==c&&(t.coordinates[0]=c*(t.coordinates[0]<0?-1:1));break;case"v":void 0!==h&&(t.coordinates[1]=h)}}r[e]=kn.fromPathCommandList(i)}}e=["pathData"]}break;default:if(r=t.values.slice(0),s&&(e=[s]),e)for(let t=0;t<r.length;t++){const e=Gn.parseColor(r[t]);e&&(r[t]=`@color/${w.addColor(e)}`)}}if(r&&e){if(0!==Fn.convertInt(d.repeatCount))switch(c.repeatmode||c.repeatMode){case"restart":d.repeatMode="restart";break;case"reverse":d.repeatMode="reverse"}d.interpolator=c.interpolator?Wn[c.interpolator]||c.interpolator:this.options.vectorAnimateInterpolator;const n=JSON.stringify(d);for(let s=0;s<e.length;s++)if(o.localSettings.targetAPI>=23&&t.keyTimes.length>1&&(this.options.vectorAnimateAlwaysUseKeyframes||"0-1"!==t.keyTimes.join("-"))){const o=a.get(n)||[],l=[];for(let e=0;e<t.keyTimes.length;e++){let n;if(Array.isArray(r[e])){const t=r[e][s];void 0!==t&&(n=null!==t?""+t:"")}else n=""+r[e];void 0!==n&&l.push({fraction:""!==n?""+t.keyTimes[e]:"",value:n})}o.push({propertyName:e[s],keyframes:l}),a.has(n)||(a.set(n,o),d.propertyValues=o,i.objectAnimators.push(d))}else{if(d.propertyName=e[s],Array.isArray(r[0])){if(r.length>1){const t=r[0][s];null!==t&&(d.valueFrom=""+t)}const t=r[r.length-1][s];null!==t&&(d.valueTo=""+t)}else r.length>1&&(d.valueFrom=""+r[0]),d.valueTo=""+r[r.length-1];d.propertyValues=!1,i.objectAnimators.push(d)}}}else t.to&&(d.propertyName=$n[t.attributeName],d.propertyName&&(d.valueTo=""+t.to,i.objectAnimators.push(d)))}}i.objectAnimators.length&&e[1].push(i)}e[1].length&&(t=Vn.createTemplate(Vn.parseTemplate(Cn),e),""===(c=w.getStoredName("drawables",t))&&w.STORED.drawables.set(c=`${s}_animated${l.length?"_vector":""}`,t))}}}if(l.length){const t=[],e=[];for(const n of l){const o=i.width/i.viewBoxWidth,a=i.height/i.viewBoxHeight;let r=(n.x||0)*o,s=(n.y||0)*a;n.width*=o,n.height*=a;const l=Un(n.element,i.element);r+=l.x,s+=l.y;const d={width:n.width>0?Fn.formatPX(n.width):"",height:n.height>0?Fn.formatPX(n.height):"",left:0!==r?Fn.formatPX(r):"",top:0!==s?Fn.formatPX(s):"",src:w.addImage({mdpi:n.uri})},c=zn.createTransformData(n.element);0!==c.rotateAngle?(d.fromDegrees=""+c.rotateAngle,d.visible=n.visible?"true":"false",t.push(d)):e.push(d)}const n=Vn.createTemplate(Vn.parseTemplate(We),{1:!1,2:!1,3:[{vectorName:c}],4:t,5:e,6:!1,7:!1});""===(d=w.getStoredName("drawables",n))&&w.STORED.drawables.set(d=s,n)}else d=c;""!==d&&o.android("src",`@drawable/${d}`),o.hasWidth||o.android("layout_width","wrap_content"),o.hasHeight||o.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}}function jn(t){return Jn&&!!t&&(t.closed||!(!Kn||!Kn.userSettings.autoCloseOnWrite||Kn.initialized||Kn.closed||(Kn.finalize(),0)))}let Kn,Zn,qn,Jn=!1;const Qn={lib:{base:{Controller:ct,File:St,Resource:w,View:U},extensions:{Accessibility:Ct,CssGrid:Dt,External:Bt,Flexbox:Ft,Grid:Ut,List:Jt,Relative:Qt,Sprite:ie,Table:de,VerticalAlign:ue,WhiteSpace:pe,constraint:{Guideline:be},delegate:{Fixed:Ae,MaxWidthHeight:_e,Percent:Pe,RadioGroup:Be,ScrollBar:Ve},resource:{Background:nn,Dimens:ln,Fonts:yn,Includes:wn,Strings:An,Styles:_n,Svg:Yn}},constant:c,customization:A,enumeration:e,util:X},system:{customize(t,e,n){if(R[t]){const o=R[t].assign;void 0===o[e]&&(o[e]={}),Object.assign(o[e],n)}},addXmlNs(t,e){l[t]=e},writeLayoutAllXml:(t=!1)=>Zn&&jn(Kn)?Zn.layoutAllToXml(Kn.sessionData,t):"",writeResourceAllXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceAllToXml(t):"",writeResourceStringXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceStringToXml(t):"",writeResourceArrayXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceStringArrayToXml(t):"",writeResourceFontXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceFontToXml(t):"",writeResourceColorXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceColorToXml(t):"",writeResourceStyleXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceStyleToXml(t):"",writeResourceDimenXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceDimenToXml(t):"",writeResourceDrawableXml:(t=!1)=>Zn&&jn(Kn)?Zn.resourceDrawableToXml(t):""},create(){const t=androme.lib.constant.EXT_NAME,e=n;return Kn=new androme.lib.base.Application(2,ct,w,ht,U),Zn=new St(Kn.resourceHandler),qn=Object.assign({},h),Object.assign(Kn.builtInExtensions,{[t.EXTERNAL]:new Bt(t.EXTERNAL,2),[t.SUBSTITUTE]:new ae(t.SUBSTITUTE,2),[t.SPRITE]:new ie(t.SPRITE,2),[t.CSS_GRID]:new Dt(t.CSS_GRID,2),[t.FLEXBOX]:new Ft(t.FLEXBOX,2),[t.TABLE]:new de(t.TABLE,2,["TABLE"]),[t.LIST]:new Jt(t.LIST,2,["UL","OL","DL","DIV"]),[t.GRID]:new Ut(t.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"]),[t.RELATIVE]:new Qt(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new ue(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new pe(t.WHITESPACE,2),[t.ACCESSIBILITY]:new Ct(t.ACCESSIBILITY,2),[e.CONSTRAINT_GUIDELINE]:new be(e.CONSTRAINT_GUIDELINE,2),[e.DELEGATE_FIXED]:new Ae(e.DELEGATE_FIXED,2),[e.DELEGATE_MAXWIDTHHEIGHT]:new _e(e.DELEGATE_MAXWIDTHHEIGHT,2),[e.DELEGATE_PERCENT]:new Pe(e.DELEGATE_PERCENT,2),[e.DELEGATE_RADIOGROUP]:new Be(e.DELEGATE_RADIOGROUP,2),[e.DELEGATE_SCROLLBAR]:new Ve(e.DELEGATE_SCROLLBAR,2),[e.RESOURCE_INCLUDES]:new wn(e.RESOURCE_INCLUDES,2),[e.RESOURCE_BACKGROUND]:new nn(e.RESOURCE_BACKGROUND,2),[e.RESOURCE_SVG]:new Yn(e.RESOURCE_SVG,2),[e.RESOURCE_STRINGS]:new An(e.RESOURCE_STRINGS,2),[e.RESOURCE_FONTS]:new yn(e.RESOURCE_FONTS,2),[e.RESOURCE_DIMENS]:new ln(e.RESOURCE_DIMENS,2),[e.RESOURCE_STYLES]:new _n(e.RESOURCE_STYLES,2)}),Jn=!0,{application:Kn,framework:2,userSettings:qn}},cached:()=>Jn?{application:Kn,framework:2,userSettings:qn}:Qn.create()};return Qn}();
