this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";var e=android.lib.base.Resource,t=androme.lib.color,o=androme.lib.enumeration,a=androme.lib.util,r=android.lib.constant,n=android.lib.enumeration,i=android.lib.util;const d=new class extends androme.lib.base.Extension{is(e){return super.is(e)&&("INPUT"!==e.element.tagName||["button","file","image","reset","search","submit"].includes(e.element.type))}condition(e){return this.included(e.element)}processNode(d,l){const s=a.hasValue(d.dataset.target),c=d.element,u=i.createAttribute(this.options[c.id]),m=t.parseRGBA(d.css("backgroundColor"),d.css("opacity"));let p="";m&&(p=e.addColor(m)),a.defaultWhenNull(u,"android","backgroundTint",""!==p?`@color/${p}`:"?attr/colorAccent"),d.hasBit("excludeProcedure",o.NODE_PROCEDURE.ACCESSIBILITY)&&a.defaultWhenNull(u,"android","focusable","false");let I="";switch(c.tagName){case"IMG":I=e.addImageSrcSet(c,r.PREFIX_ANDROID.DIALOG);break;case"INPUT":I="image"===c.type?e.addImage({mdpi:c.src},r.PREFIX_ANDROID.DIALOG):e.addImageUrl(d.css("backgroundImage"),r.PREFIX_ANDROID.DIALOG);break;case"BUTTON":I=e.addImageUrl(d.css("backgroundImage"),r.PREFIX_ANDROID.DIALOG)}if(""!==I&&a.defaultWhenNull(u,"app","srcCompat",`@drawable/${I}`),d.setControlType(r.SUPPORT_ANDROID.FLOATING_ACTION_BUTTON,n.CONTAINER_NODE.BUTTON),d.exclude({resource:o.NODE_RESOURCE.BOX_STYLE|o.NODE_RESOURCE.ASSET}),!d.pageFlow||s){const e=d.horizontalBias(),t=d.verticalBias(),a=d.documentParent,n=[];n.push(e<.5?d.localizeString("left"):e>.5?d.localizeString("right"):"center_horizontal"),t<.5?(n.push("top"),d.app("layout_dodgeInsetEdges","top")):n.push(t>.5?"bottom":"center_vertical");const i=d.mergeGravity("layout_gravity",...n);if(e>0&&e<1&&.5!==e&&(e<.5?d.modifyBox(16,d.linear.left-a.box.left):d.modifyBox(4,a.box.right-d.linear.right)),t>0&&t<1&&.5!==t&&(t<.5?d.modifyBox(2,d.linear.top-a.box.top):d.modifyBox(8,a.box.bottom-d.linear.bottom)),s){let e=l.documentId;if(l.controlName===r.SUPPORT_ANDROID.TOOLBAR){const t=l.data("android.widget.toolbar","outerParent");t&&(e=t)}d.app("layout_anchor",e),""!==i&&(d.app("layout_anchorGravity",i),d.delete("android","layout_gravity")),d.exclude({procedure:o.NODE_PROCEDURE.ALIGNMENT}),d.render(d)}else d.render(l);d.positioned=!0}else d.render(l);return{output:this.application.controllerHandler.renderNodeStatic(r.SUPPORT_ANDROID.FLOATING_ACTION_BUTTON,s?-1:d.renderDepth,e.formatOptions(u,this.application.extensionManager.optionValueAsBoolean(r.EXT_ANDROID.RESOURCE_STRINGS,"numberResourceValue")),"wrap_content","wrap_content",d),complete:!0}}}("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return androme&&androme.includeAsync(d),d}();
